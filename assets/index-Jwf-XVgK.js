(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ed={exports:{}},hl={};var __;function eS(){if(__)return hl;__=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=i,hl.jsxs=i,hl}var v_;function nS(){return v_||(v_=1,Ed.exports=eS()),Ed.exports}var bt=nS(),Td={exports:{}},_t={};var E_;function iS(){if(E_)return _t;E_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),L=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=L&&O[L]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ct(O,Q,tt){this.props=O,this.context=Q,this.refs=Z,this.updater=tt||$}ct.prototype.isReactComponent={},ct.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},ct.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pt(){}pt.prototype=ct.prototype;function ft(O,Q,tt){this.props=O,this.context=Q,this.refs=Z,this.updater=tt||$}var Ct=ft.prototype=new pt;Ct.constructor=ft,et(Ct,ct.prototype),Ct.isPureReactComponent=!0;var Kt=Array.isArray;function Rt(){}var D={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Q,tt){var it=tt.ref;return{$$typeof:s,type:O,key:Q,ref:it!==void 0?it:null,props:tt}}function V(O,Q){return I(O.type,Q,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function M(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(tt){return Q[tt]})}var R=/\/+/g;function $t(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):Q.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,tt,it,gt){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(At){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case s:case t:Lt=!0;break;case A:return Lt=O._init,H(Lt(O._payload),Q,tt,it,gt)}}if(Lt)return gt=gt(O),Lt=it===""?"."+$t(O,0):it,Kt(gt)?(tt="",Lt!=null&&(tt=Lt.replace(R,"$&/")+"/"),H(gt,Q,tt,"",function(es){return es})):gt!=null&&(C(gt)&&(gt=V(gt,tt+(gt.key==null||O&&O.key===gt.key?"":(""+gt.key).replace(R,"$&/")+"/")+Lt)),Q.push(gt)),1;Lt=0;var Ie=it===""?".":it+":";if(Kt(O))for(var re=0;re<O.length;re++)it=O[re],At=Ie+$t(it,re),Lt+=H(it,Q,tt,At,gt);else if(re=K(O),typeof re=="function")for(O=re.call(O),re=0;!(it=O.next()).done;)it=it.value,At=Ie+$t(it,re++),Lt+=H(it,Q,tt,At,gt);else if(At==="object"){if(typeof O.then=="function")return H(we(O),Q,tt,it,gt);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(O,Q,tt){if(O==null)return O;var it=[],gt=0;return H(O,it,"","",function(At){return Q.call(tt,At,gt++)}),it}function lt(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(tt){(O._status===0||O._status===-1)&&(O._status=1,O._result=tt)},function(tt){(O._status===0||O._status===-1)&&(O._status=2,O._result=tt)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:W,forEach:function(O,Q,tt){W(O,function(){Q.apply(this,arguments)},tt)},count:function(O){var Q=0;return W(O,function(){Q++}),Q},toArray:function(O){return W(O,function(Q){return Q})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return _t.Activity=b,_t.Children=Ht,_t.Component=ct,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=ft,_t.StrictMode=a,_t.Suspense=_,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,_t.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},_t.cache=function(O){return function(){return O.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(O,Q,tt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var it=et({},O.props),gt=O.key;if(Q!=null)for(At in Q.key!==void 0&&(gt=""+Q.key),Q)!S.call(Q,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Q.ref===void 0||(it[At]=Q[At]);var At=arguments.length-2;if(At===1)it.children=tt;else if(1<At){for(var Lt=Array(At),Ie=0;Ie<At;Ie++)Lt[Ie]=arguments[Ie+2];it.children=Lt}return I(O.type,gt,it)},_t.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},_t.createElement=function(O,Q,tt){var it,gt={},At=null;if(Q!=null)for(it in Q.key!==void 0&&(At=""+Q.key),Q)S.call(Q,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=Q[it]);var Lt=arguments.length-2;if(Lt===1)gt.children=tt;else if(1<Lt){for(var Ie=Array(Lt),re=0;re<Lt;re++)Ie[re]=arguments[re+2];gt.children=Ie}if(O&&O.defaultProps)for(it in Lt=O.defaultProps,Lt)gt[it]===void 0&&(gt[it]=Lt[it]);return I(O,At,gt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(O){return{$$typeof:p,render:O}},_t.isValidElement=C,_t.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:lt}},_t.memo=function(O,Q){return{$$typeof:v,type:O,compare:Q===void 0?null:Q}},_t.startTransition=function(O){var Q=D.T,tt={};D.T=tt;try{var it=O(),gt=D.S;gt!==null&&gt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Rt,kt)}catch(At){kt(At)}finally{Q!==null&&tt.types!==null&&(Q.types=tt.types),D.T=Q}},_t.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},_t.use=function(O){return D.H.use(O)},_t.useActionState=function(O,Q,tt){return D.H.useActionState(O,Q,tt)},_t.useCallback=function(O,Q){return D.H.useCallback(O,Q)},_t.useContext=function(O){return D.H.useContext(O)},_t.useDebugValue=function(){},_t.useDeferredValue=function(O,Q){return D.H.useDeferredValue(O,Q)},_t.useEffect=function(O,Q){return D.H.useEffect(O,Q)},_t.useEffectEvent=function(O){return D.H.useEffectEvent(O)},_t.useId=function(){return D.H.useId()},_t.useImperativeHandle=function(O,Q,tt){return D.H.useImperativeHandle(O,Q,tt)},_t.useInsertionEffect=function(O,Q){return D.H.useInsertionEffect(O,Q)},_t.useLayoutEffect=function(O,Q){return D.H.useLayoutEffect(O,Q)},_t.useMemo=function(O,Q){return D.H.useMemo(O,Q)},_t.useOptimistic=function(O,Q){return D.H.useOptimistic(O,Q)},_t.useReducer=function(O,Q,tt){return D.H.useReducer(O,Q,tt)},_t.useRef=function(O){return D.H.useRef(O)},_t.useState=function(O){return D.H.useState(O)},_t.useSyncExternalStore=function(O,Q,tt){return D.H.useSyncExternalStore(O,Q,tt)},_t.useTransition=function(){return D.H.useTransition()},_t.version="19.2.3",_t}var T_;function cm(){return T_||(T_=1,Td.exports=iS()),Td.exports}var Le=cm(),Ad={exports:{}},fl={},Sd={exports:{}},bd={};var A_;function rS(){return A_||(A_=1,(function(s){function t(H,W){var lt=H.length;H.push(W);t:for(;0<lt;){var kt=lt-1>>>1,Ht=H[kt];if(0<l(Ht,W))H[kt]=W,H[lt]=Ht,lt=kt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],lt=H.pop();if(lt!==W){H[0]=lt;t:for(var kt=0,Ht=H.length,O=Ht>>>1;kt<O;){var Q=2*(kt+1)-1,tt=H[Q],it=Q+1,gt=H[it];if(0>l(tt,lt))it<Ht&&0>l(gt,tt)?(H[kt]=gt,H[it]=lt,kt=it):(H[kt]=tt,H[Q]=lt,kt=Q);else if(it<Ht&&0>l(gt,lt))H[kt]=gt,H[it]=lt,kt=it;else break t}}return W}function l(H,W){var lt=H.sortIndex-W.sortIndex;return lt!==0?lt:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],v=[],A=1,b=null,L=3,K=!1,$=!1,et=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ct(H){for(var W=i(v);W!==null;){if(W.callback===null)a(v);else if(W.startTime<=H)a(v),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(v)}}function Kt(H){if(et=!1,Ct(H),!$)if(i(_)!==null)$=!0,Rt||(Rt=!0,M());else{var W=i(v);W!==null&&we(Kt,W.startTime-H)}}var Rt=!1,D=-1,S=5,I=-1;function V(){return Z?!0:!(s.unstable_now()-I<S)}function C(){if(Z=!1,Rt){var H=s.unstable_now();I=H;var W=!0;try{t:{$=!1,et&&(et=!1,pt(D),D=-1),K=!0;var lt=L;try{e:{for(Ct(H),b=i(_);b!==null&&!(b.expirationTime>H&&V());){var kt=b.callback;if(typeof kt=="function"){b.callback=null,L=b.priorityLevel;var Ht=kt(b.expirationTime<=H);if(H=s.unstable_now(),typeof Ht=="function"){b.callback=Ht,Ct(H),W=!0;break e}b===i(_)&&a(_),Ct(H)}else a(_);b=i(_)}if(b!==null)W=!0;else{var O=i(v);O!==null&&we(Kt,O.startTime-H),W=!1}}break t}finally{b=null,L=lt,K=!1}W=void 0}}finally{W?M():Rt=!1}}}var M;if(typeof ft=="function")M=function(){ft(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$t=R.port2;R.port1.onmessage=C,M=function(){$t.postMessage(null)}}else M=function(){ct(C,0)};function we(H,W){D=ct(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return L},s.unstable_next=function(H){switch(L){case 1:case 2:case 3:var W=3;break;default:W=L}var lt=L;L=W;try{return H()}finally{L=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=L;L=H;try{return W()}finally{L=lt}},s.unstable_scheduleCallback=function(H,W,lt){var kt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?kt+lt:kt):lt=kt,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=lt+Ht,H={id:A++,callback:W,priorityLevel:H,startTime:lt,expirationTime:Ht,sortIndex:-1},lt>kt?(H.sortIndex=lt,t(v,H),i(_)===null&&H===i(v)&&(et?(pt(D),D=-1):et=!0,we(Kt,lt-kt))):(H.sortIndex=Ht,t(_,H),$||K||($=!0,Rt||(Rt=!0,M()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var W=L;return function(){var lt=L;L=W;try{return H.apply(this,arguments)}finally{L=lt}}}})(bd)),bd}var S_;function sS(){return S_||(S_=1,Sd.exports=rS()),Sd.exports}var Rd={exports:{}},Ke={};var b_;function aS(){if(b_)return Ke;b_=1;var s=cm();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,v,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(_,v,null,A)},Ke.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},Ke.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin),L=typeof v.integrity=="string"?v.integrity:void 0,K=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:L,fetchPriority:K}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:L,fetchPriority:K,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ke.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=p(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},Ke.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,b=p(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ke.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=p(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,v){return _(v)},Ke.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var R_;function oS(){if(R_)return Rd.exports;R_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rd.exports=aS(),Rd.exports}var w_;function lS(){if(w_)return fl;w_=1;var s=sS(),t=cm(),i=oS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,L=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case Kt:return"Suspense";case Rt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case ft:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:$t(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return $t(e(n))}catch{}}return null}var we=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},kt=[],Ht=-1;function O(e){return{current:e}}function Q(e){0>Ht||(e.current=kt[Ht],kt[Ht]=null,Ht--)}function tt(e,n){Ht++,kt[Ht]=e.current,e.current=n}var it=O(null),gt=O(null),At=O(null),Lt=O(null);function Ie(e,n){switch(tt(At,n),tt(gt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=qy(n),e=jy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(it),tt(it,e)}function re(){Q(it),Q(gt),Q(At)}function es(e){e.memoizedState!==null&&tt(Lt,e);var n=it.current,r=jy(n,e.type);n!==r&&(tt(gt,e),tt(it,r))}function Fs(e){gt.current===e&&(Q(it),Q(gt)),Lt.current===e&&(Q(Lt),ol._currentValue=lt)}var Qs,Ks;function Jn(e){if(Qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qs=n&&n[1]||"",Ks=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qs+e+Ks}var ao=!1;function ns(e,n){if(!e||ao)return"";ao=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var z=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){z=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){z=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var w=g.split(`
`),x=E.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<x.length&&!x[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===x.length)for(o=w.length-1,h=x.length-1;1<=o&&0<=h&&w[o]!==x[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==x[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==x[h]){var j=`
`+w[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{ao=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Jn(r):""}function oo(e,n){switch(e.tag){case 26:case 27:case 5:return Jn(e.type);case 16:return Jn("Lazy");case 13:return e.child!==n&&n!==null?Jn("Suspense Fallback"):Jn("Suspense");case 19:return Jn("SuspenseList");case 0:case 15:return ns(e.type,!1);case 11:return ns(e.type.render,!1);case 1:return ns(e.type,!0);case 31:return Jn("Activity");default:return""}}function lo(e){try{var n="",r=null;do n+=oo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,nr=s.unstable_cancelCallback,Th=s.unstable_shouldYield,Fl=s.unstable_requestPaint,$e=s.unstable_now,is=s.unstable_getCurrentPriorityLevel,uo=s.unstable_ImmediatePriority,co=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,Ah=s.unstable_LowPriority,Ql=s.unstable_IdlePriority,Kl=s.log,Yl=s.unstable_setDisableYieldValue,Pn=null,ke=null;function En(e){if(typeof Kl=="function"&&Yl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pn,e)}catch{}}var ce=Math.clz32?Math.clz32:Zl,Xl=Math.log,Ys=Math.LN2;function Zl(e){return e>>>=0,e===0?32:31-(Xl(e)/Ys|0)|0}var $n=256,rs=262144,pe=4194304;function Wn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ti(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Wn(o):(g&=E,g!==0?h=Wn(g):r||(r=E&~e,r!==0&&(h=Wn(r))))):(E=o&~f,E!==0?h=Wn(E):g!==0?h=Wn(g):r||(r=o&~e,r!==0&&(h=Wn(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Sh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ei(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ss(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function bh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,x=e.hiddenUpdates;for(r=g&~r;0<r;){var j=31-ce(r),F=1<<j;E[j]=0,w[j]=-1;var z=x[j];if(z!==null)for(x[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}r&=~F}o!==0&&as(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function as(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ho(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-ce(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function fo(e,n){var r=n&-n;return r=(r&42)!==0?1:os(r),(r&(e.suspendedLanes|n))!==0?0:r}function os(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ci(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $l(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function xn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var zn=Math.random().toString(36).slice(2),ye="__reactFiber$"+zn,Ve="__reactProps$"+zn,ni="__reactContainer$"+zn,Xs="__reactEvents$"+zn,Rh="__reactListeners$"+zn,Wl="__reactHandles$"+zn,tu="__reactResources$"+zn,ii="__reactMarker$"+zn;function Zs(e){delete e[ye],delete e[Ve],delete e[Xs],delete e[Rh],delete e[Wl]}function ri(e){var n=e[ye];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ni]||r[ye]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Xy(e);e!==null;){if(r=e[ye])return r;e=Xy(e)}return n}e=r,r=e.parentNode}return null}function Tn(e){if(e=e[ye]||e[ni]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function si(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[ii]=!0}var mo=new Set,go={};function ai(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(go[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yo={},_o={};function eu(e){return ge.call(_o,e)?!0:ge.call(yo,e)?!1:po.test(e)?_o[e]=!0:(yo[e]=!0,!1)}function Js(e,n,r){if(eu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ve(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=vo(e,n,""+e[n])}}function ls(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var us=/[\n"\\]/g;function en(e){return e.replace(us,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $s(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Eo(e,g,Me(n)):r!=null?Eo(e,g,Me(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function nu(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+Me(r):"",n=n!=null?""+Me(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Eo(e,n,r){n==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Me(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,r){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Me(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(we(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Me(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function To(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ru.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ao(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&To(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&To(e,f,n[f])}function Ws(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ta(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var So=null;function An(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,ui=null;function cs(e){var n=Tn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if($s(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));$s(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&ls(o)}break t;case"textarea":iu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var ea=!1;function ur(e,n,r){if(ea)return e(n,r);ea=!0;try{var o=e(n);return o}finally{if(ea=!1,(lr!==null||ui!==null)&&($u(),lr&&(n=lr,e=ui,ui=lr=null,cs(n),e)))for(n=0;n<e.length;n++)cs(e[n])}}function qn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hs=!1;if(Sn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){hs=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{hs=!1}var ci=null,bo=null,fs=null;function Ro(){if(fs)return fs;var e,n=bo,r=n.length,o,h="value"in ci?ci.value:ci.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return fs=h.slice(e,1<o?1-o:void 0)}function ds(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function jn(){return!1}function xe(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:jn,this.isPropagationStopped=jn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=xe(Ni),cr=b({},Ni,{view:0,detail:0}),wo=xe(cr),hr,na,fi,ia=b({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fi&&(fi&&e.type==="mousemove"?(hr=e.screenX-fi.screenX,na=e.screenY-fi.screenY):na=hr=0,fi=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:na}}),Io=xe(ia),ms=b({},ia,{dataTransfer:0}),au=xe(ms),ou=b({},cr,{relatedTarget:0}),gs=xe(ou),Co=b({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=xe(Co),ra=b({},Ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=xe(ra),cu=b({},Ni,{data:0}),di=xe(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function fr(){return mu}var We=b({},cr,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=xe(We),pu=b({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=xe(pu),u=b({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=xe(u),y=b({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=xe(y),P=b({},ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=xe(P),J=b({},Ni,{newState:0,oldState:0}),Et=xe(J),he=[9,13,27,32],Bt=Sn&&"CompositionEvent"in window,se=null;Sn&&"documentMode"in document&&(se=document.documentMode);var bn=Sn&&"TextEvent"in window&&!se,mi=Sn&&(!Bt||se&&8<se&&11>=se),Hn=" ",Gn=!1;function ps(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var aa=!1;function R0(e,n){switch(e){case"compositionend":return sa(n);case"keypress":return n.which!==32?null:(Gn=!0,Hn);case"textInput":return e=n.data,e===Hn&&Gn?null:e;default:return null}}function w0(e,n){if(aa)return e==="compositionend"||!Bt&&ps(e,n)?(e=Ro(),fs=bo=ci=null,aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var I0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $m(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!I0[e.type]:n==="textarea"}function Wm(e,n,r,o){lr?ui?ui.push(o):ui=[o]:lr=o,n=sc(n,"onChange"),0<n.length&&(r=new hi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Do=null,No=null;function C0(e){Ly(e,0)}function yu(e){var n=cn(e);if(ls(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(Sn){var wh;if(Sn){var Ih="oninput"in document;if(!Ih){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Ih=typeof ng.oninput=="function"}wh=Ih}else wh=!1;eg=wh&&(!document.documentMode||9<document.documentMode)}function ig(){Do&&(Do.detachEvent("onpropertychange",rg),No=Do=null)}function rg(e){if(e.propertyName==="value"&&yu(No)){var n=[];Wm(n,No,e,An(e)),ur(C0,n)}}function D0(e,n,r){e==="focusin"?(ig(),Do=n,No=r,Do.attachEvent("onpropertychange",rg)):e==="focusout"&&ig()}function N0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(No)}function O0(e,n){if(e==="click")return yu(n)}function V0(e,n){if(e==="input"||e==="change")return yu(n)}function M0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:M0;function Oo(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!ge.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function sg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var r=sg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=sg(r)}}function og(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?og(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function lg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=li(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=li(e.document)}return n}function Ch(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var U0=Sn&&"documentMode"in document&&11>=document.documentMode,oa=null,Dh=null,Vo=null,Nh=!1;function ug(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nh||oa==null||oa!==li(o)||(o=oa,"selectionStart"in o&&Ch(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=sc(Dh,"onSelect"),0<o.length&&(n=new hi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=oa)))}function ys(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var la={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},Oh={},cg={};Sn&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function _s(e){if(Oh[e])return Oh[e];if(!la[e])return e;var n=la[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in cg)return Oh[e]=n[r];return e}var hg=_s("animationend"),fg=_s("animationiteration"),dg=_s("animationstart"),L0=_s("transitionrun"),P0=_s("transitionstart"),k0=_s("transitioncancel"),mg=_s("transitionend"),gg=new Map,Vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vh.push("scrollEnd");function Fn(e,n){gg.set(e,n),ai(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rn=[],ua=0,Mh=0;function vu(){for(var e=ua,n=Mh=ua=0;n<e;){var r=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var h=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&pg(r,h,f)}}function Eu(e,n,r,o){Rn[ua++]=e,Rn[ua++]=n,Rn[ua++]=r,Rn[ua++]=o,Mh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Uh(e,n,r,o){return Eu(e,n,r,o),Tu(e)}function vs(e,n){return Eu(e,null,null,n),Tu(e)}function pg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Tu(e){if(50<tl)throw tl=0,Gf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function x0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,r,o){return new x0(e,n,r,o)}function Lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=dn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")Lh(e)&&(g=1);else if(typeof e=="string")g=HA(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=dn(31,r,n,h),e.elementType=I,e.lanes=f,e;case et:return Es(r.children,h,f,n);case Z:g=8,h|=24;break;case ct:return e=dn(12,r,n,h|2),e.elementType=ct,e.lanes=f,e;case Kt:return e=dn(13,r,n,h),e.elementType=Kt,e.lanes=f,e;case Rt:return e=dn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case pt:g=9;break t;case Ct:g=11;break t;case D:g=14;break t;case S:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=dn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Es(e,n,r,o){return e=dn(7,e,o,n),e.lanes=r,e}function Ph(e,n,r){return e=dn(6,e,null,n),e.lanes=r,e}function _g(e){var n=dn(18,null,null,0);return n.stateNode=e,n}function kh(e,n,r){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var r=vg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:lo(n)},vg.set(e,n),n)}return{value:e,source:n,stack:lo(n)}}var ha=[],fa=0,Su=null,Mo=0,In=[],Cn=0,dr=null,gi=1,pi="";function Mi(e,n){ha[fa++]=Mo,ha[fa++]=Su,Su=e,Mo=n}function Eg(e,n,r){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=dr,dr=e;var o=gi;e=pi;var h=32-ce(o)-1;o&=~(1<<h),r+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,gi=1<<32-ce(n)+h|r<<h|o,pi=f+e}else gi=1<<f|r<<h|o,pi=e}function xh(e){e.return!==null&&(Mi(e,1),Eg(e,1,0))}function zh(e){for(;e===Su;)Su=ha[--fa],ha[fa]=null,Mo=ha[--fa],ha[fa]=null;for(;e===dr;)dr=In[--Cn],In[Cn]=null,pi=In[--Cn],In[Cn]=null,gi=In[--Cn],In[Cn]=null}function Tg(e,n){In[Cn++]=gi,In[Cn++]=pi,In[Cn++]=dr,gi=n.id,pi=n.overflow,dr=e}var ze=null,te=null,Ut=!1,mr=null,Dn=!1,Bh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(wn(n,e)),Bh}function Ag(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<nl.length;r++)It(nl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),nu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||zy(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||gr(e,!0)}function Sg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:ze=ze.return}}function da(e){if(e!==ze)return!1;if(!Ut)return Sg(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||sd(e.type,e.memoizedProps)),r=!r),r&&te&&gr(e),Sg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=Yy(e)}else n===27?(n=te,Dr(e.type)?(e=cd,cd=null,te=e):te=n):te=ze?On(e.stateNode.nextSibling):null;return!0}function Ts(){te=ze=null,Ut=!1}function qh(){var e=mr;return e!==null&&(on===null?on=e:on.push.apply(on,e),mr=null),e}function Uo(e){mr===null?mr=[e]:mr.push(e)}var jh=O(null),As=null,Ui=null;function pr(e,n,r){tt(jh,n._currentValue),n._currentValue=r}function Li(e){e._currentValue=jh.current,Q(jh)}function Hh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Gh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var w=0;w<n.length;w++)if(E.context===n[w]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Hh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Hh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ma(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;fn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ol):e=[ol])}h=h.return}e!==null&&Gh(n,e,r,o),n.flags|=262144}function bu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ss(e){As=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return bg(As,e)}function Ru(e,n){return As===null&&Ss(e),bg(e,n)}function bg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var z0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},B0=s.unstable_scheduleCallback,q0=s.unstable_NormalPriority,Ee={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fh(){return{controller:new z0,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&B0(q0,function(){e.controller.abort()})}var Po=null,Qh=0,ga=0,pa=null;function j0(e,n){if(Po===null){var r=Po=[];Qh=0,ga=Zf(),pa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Qh++,n.then(Rg,Rg),n}function Rg(){if(--Qh===0&&Po!==null){pa!==null&&(pa.status="fulfilled");var e=Po;Po=null,ga=0,pa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function H0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var wg=H.S;H.S=function(e,n){uy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&j0(e,n),wg!==null&&wg(e,n)};var bs=O(null);function Kh(){var e=bs.current;return e!==null?e:Wt.pooledCache}function wu(e,n){n===null?tt(bs,bs.current):tt(bs,n.pool)}function Ig(){var e=Kh();return e===null?null:{parent:Ee._currentValue,pool:e}}var ya=Error(a(460)),Yh=Error(a(474)),Iu=Error(a(542)),Cu={then:function(){}};function Cg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Dg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Bn,Bn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw ws=n,ya}}function Rs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(ws=r,ya):r}}var ws=null;function Ng(){if(ws===null)throw Error(a(459));var e=ws;return ws=null,e}function Og(e){if(e===ya||e===Iu)throw Error(a(483))}var _a=null,ko=0;function Du(e){var n=ko;return ko+=1,_a===null&&(_a=[]),Dg(_a,e,n)}function xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===L?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vg(e){function n(U,N){if(e){var k=U.deletions;k===null?(U.deletions=[N],U.flags|=16):k.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Vi(U,N),U.index=0,U.sibling=null,U}function f(U,N,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<N?(U.flags|=67108866,N):k):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,k,G){return N===null||N.tag!==6?(N=Ph(k,U.mode,G),N.return=U,N):(N=h(N,k),N.return=U,N)}function w(U,N,k,G){var ot=k.type;return ot===et?j(U,N,k.props.children,G,k.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Rs(ot)===N.type)?(N=h(N,k.props),xo(N,k),N.return=U,N):(N=Au(k.type,k.key,k.props,null,U.mode,G),xo(N,k),N.return=U,N)}function x(U,N,k,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=kh(k,U.mode,G),N.return=U,N):(N=h(N,k.children||[]),N.return=U,N)}function j(U,N,k,G,ot){return N===null||N.tag!==7?(N=Es(k,U.mode,G,ot),N.return=U,N):(N=h(N,k),N.return=U,N)}function F(U,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ph(""+N,U.mode,k),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case K:return k=Au(N.type,N.key,N.props,null,U.mode,k),xo(k,N),k.return=U,k;case $:return N=kh(N,U.mode,k),N.return=U,N;case S:return N=Rs(N),F(U,N,k)}if(we(N)||M(N))return N=Es(N,U.mode,k,null),N.return=U,N;if(typeof N.then=="function")return F(U,Du(N),k);if(N.$$typeof===ft)return F(U,Ru(U,N),k);Nu(U,N)}return null}function z(U,N,k,G){var ot=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(U,N,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return k.key===ot?w(U,N,k,G):null;case $:return k.key===ot?x(U,N,k,G):null;case S:return k=Rs(k),z(U,N,k,G)}if(we(k)||M(k))return ot!==null?null:j(U,N,k,G,null);if(typeof k.then=="function")return z(U,N,Du(k),G);if(k.$$typeof===ft)return z(U,N,Ru(U,k),G);Nu(U,k)}return null}function q(U,N,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(k)||null,E(N,U,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case K:return U=U.get(G.key===null?k:G.key)||null,w(N,U,G,ot);case $:return U=U.get(G.key===null?k:G.key)||null,x(N,U,G,ot);case S:return G=Rs(G),q(U,N,k,G,ot)}if(we(G)||M(G))return U=U.get(k)||null,j(N,U,G,ot,null);if(typeof G.then=="function")return q(U,N,k,Du(G),ot);if(G.$$typeof===ft)return q(U,N,k,Ru(N,G),ot);Nu(N,G)}return null}function rt(U,N,k,G){for(var ot=null,xt=null,st=N,St=N=0,Nt=null;st!==null&&St<k.length;St++){st.index>St?(Nt=st,st=null):Nt=st.sibling;var zt=z(U,st,k[St],G);if(zt===null){st===null&&(st=Nt);break}e&&st&&zt.alternate===null&&n(U,st),N=f(zt,N,St),xt===null?ot=zt:xt.sibling=zt,xt=zt,st=Nt}if(St===k.length)return r(U,st),Ut&&Mi(U,St),ot;if(st===null){for(;St<k.length;St++)st=F(U,k[St],G),st!==null&&(N=f(st,N,St),xt===null?ot=st:xt.sibling=st,xt=st);return Ut&&Mi(U,St),ot}for(st=o(st);St<k.length;St++)Nt=q(st,U,St,k[St],G),Nt!==null&&(e&&Nt.alternate!==null&&st.delete(Nt.key===null?St:Nt.key),N=f(Nt,N,St),xt===null?ot=Nt:xt.sibling=Nt,xt=Nt);return e&&st.forEach(function(Ur){return n(U,Ur)}),Ut&&Mi(U,St),ot}function ht(U,N,k,G){if(k==null)throw Error(a(151));for(var ot=null,xt=null,st=N,St=N=0,Nt=null,zt=k.next();st!==null&&!zt.done;St++,zt=k.next()){st.index>St?(Nt=st,st=null):Nt=st.sibling;var Ur=z(U,st,zt.value,G);if(Ur===null){st===null&&(st=Nt);break}e&&st&&Ur.alternate===null&&n(U,st),N=f(Ur,N,St),xt===null?ot=Ur:xt.sibling=Ur,xt=Ur,st=Nt}if(zt.done)return r(U,st),Ut&&Mi(U,St),ot;if(st===null){for(;!zt.done;St++,zt=k.next())zt=F(U,zt.value,G),zt!==null&&(N=f(zt,N,St),xt===null?ot=zt:xt.sibling=zt,xt=zt);return Ut&&Mi(U,St),ot}for(st=o(st);!zt.done;St++,zt=k.next())zt=q(st,U,St,zt.value,G),zt!==null&&(e&&zt.alternate!==null&&st.delete(zt.key===null?St:zt.key),N=f(zt,N,St),xt===null?ot=zt:xt.sibling=zt,xt=zt);return e&&st.forEach(function(tS){return n(U,tS)}),Ut&&Mi(U,St),ot}function Jt(U,N,k,G){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case K:t:{for(var ot=k.key;N!==null;){if(N.key===ot){if(ot=k.type,ot===et){if(N.tag===7){r(U,N.sibling),G=h(N,k.props.children),G.return=U,U=G;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Rs(ot)===N.type){r(U,N.sibling),G=h(N,k.props),xo(G,k),G.return=U,U=G;break t}r(U,N);break}else n(U,N);N=N.sibling}k.type===et?(G=Es(k.props.children,U.mode,G,k.key),G.return=U,U=G):(G=Au(k.type,k.key,k.props,null,U.mode,G),xo(G,k),G.return=U,U=G)}return g(U);case $:t:{for(ot=k.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(U,N.sibling),G=h(N,k.children||[]),G.return=U,U=G;break t}else{r(U,N);break}else n(U,N);N=N.sibling}G=kh(k,U.mode,G),G.return=U,U=G}return g(U);case S:return k=Rs(k),Jt(U,N,k,G)}if(we(k))return rt(U,N,k,G);if(M(k)){if(ot=M(k),typeof ot!="function")throw Error(a(150));return k=ot.call(k),ht(U,N,k,G)}if(typeof k.then=="function")return Jt(U,N,Du(k),G);if(k.$$typeof===ft)return Jt(U,N,Ru(U,k),G);Nu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(U,N.sibling),G=h(N,k),G.return=U,U=G):(r(U,N),G=Ph(k,U.mode,G),G.return=U,U=G),g(U)):r(U,N)}return function(U,N,k,G){try{ko=0;var ot=Jt(U,N,k,G);return _a=null,ot}catch(st){if(st===ya||st===Iu)throw st;var xt=dn(29,st,null,U.mode);return xt.lanes=G,xt.return=U,xt}}}var Is=Vg(!0),Mg=Vg(!1),yr=!1;function Xh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Tu(e),pg(e,null,r),n}return Eu(e,o,n,r),Tu(e)}function zo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}function Jh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var $h=!1;function Bo(){if($h){var e=pa;if(e!==null)throw e}}function qo(e,n,r,o){$h=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var w=E,x=w.next;w.next=null,g===null?f=x:g.next=x,g=w;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=x:E.next=x,j.lastBaseUpdate=w))}if(f!==null){var F=h.baseState;g=0,j=x=w=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===ga&&($h=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ht=E;z=n;var Jt=r;switch(ht.tag){case 1:if(rt=ht.payload,typeof rt=="function"){F=rt.call(Jt,F,z);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ht.payload,z=typeof rt=="function"?rt.call(Jt,F,z):rt,z==null)break t;F=b({},F,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(x=j=q,w=F):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(w=F),h.baseState=w,h.firstBaseUpdate=x,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=F}}function Ug(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Lg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Ug(r[e],n)}var va=O(null),Ou=O(0);function Pg(e,n){e=Gi,tt(Ou,e),tt(va,n),Gi=e|n.baseLanes}function Wh(){tt(Ou,Gi),tt(va,va.current)}function tf(){Gi=Ou.current,Q(va),Q(Ou)}var mn=O(null),Nn=null;function Er(e){var n=e.alternate;tt(fe,fe.current&1),tt(mn,e),Nn===null&&(n===null||va.current!==null||n.memoizedState!==null)&&(Nn=e)}function ef(e){tt(fe,fe.current),tt(mn,e),Nn===null&&(Nn=e)}function kg(e){e.tag===22?(tt(fe,fe.current),tt(mn,e),Nn===null&&(Nn=e)):Tr()}function Tr(){tt(fe,fe.current),tt(mn,mn.current)}function gn(e){Q(mn),Nn===e&&(Nn=null),Q(fe)}var fe=O(0);function Vu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ld(r)||ud(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,Tt=null,Xt=null,Te=null,Mu=!1,Ea=!1,Cs=!1,Uu=0,jo=0,Ta=null,G0=0;function le(){throw Error(a(321))}function nf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!fn(e[r],n[r]))return!1;return!0}function rf(e,n,r,o,h,f){return Pi=f,Tt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ep:vf,Cs=!1,f=r(o,h),Cs=!1,Ea&&(f=zg(n,r,o,h)),xg(e),f}function xg(e){H.H=Fo;var n=Xt!==null&&Xt.next!==null;if(Pi=0,Te=Xt=Tt=null,Mu=!1,jo=0,Ta=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&bu(e)&&(Ae=!0))}function zg(e,n,r,o){Tt=e;var h=0;do{if(Ea&&(Ta=null),jo=0,Ea=!1,25<=h)throw Error(a(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Tp,f=n(r,o)}while(Ea);return f}function F0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Ho(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Tt.flags|=1024),n}function sf(){var e=Uu!==0;return Uu=0,e}function af(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function of(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Pi=0,Te=Xt=Tt=null,Ea=!1,jo=Uu=0,Ta=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Tt.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=Tt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?Tt.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw Tt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?Tt.memoizedState=Te=e:Te=Te.next=e}return Te}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(e){var n=jo;return jo+=1,Ta===null&&(Ta=[]),e=Dg(Ta,e,n),n=Tt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ep:vf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ho(e);if(e.$$typeof===ft)return Be(e)}throw Error(a(438,String(e)))}function lf(e){var n=null,r=Tt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),Tt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function ki(e,n){return typeof n=="function"?n(e):n}function ku(e){var n=de();return uf(n,Xt,e)}function uf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,w=null,x=n,j=!1;do{var F=x.lane&-536870913;if(F!==x.lane?(Dt&F)===F:(Pi&F)===F){var z=x.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),F===ga&&(j=!0);else if((Pi&z)===z){x=x.next,z===ga&&(j=!0);continue}else F={lane:0,revertLane:x.revertLane,gesture:null,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=F,g=f):w=w.next=F,Tt.lanes|=z,br|=z;F=x.action,Cs&&r(f,F),f=x.hasEagerState?x.eagerState:r(f,F)}else z={lane:F,revertLane:x.revertLane,gesture:x.gesture,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null},w===null?(E=w=z,g=f):w=w.next=z,Tt.lanes|=F,br|=F;x=x.next}while(x!==null&&x!==n);if(w===null?g=f:w.next=E,!fn(f,e.memoizedState)&&(Ae=!0,j&&(r=pa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function cf(e){var n=de(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);fn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Bg(e,n,r){var o=Tt,h=de(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!fn((Xt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ae=!0),h=h.queue,df(Hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,Aa(9,{destroy:void 0},jg.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Pi&127)!==0||qg(o,n,r)}return r}function qg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Tt.updateQueue,n===null?(n=Lu(),Tt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function jg(e,n,r,o){n.value=r,n.getSnapshot=o,Gg(n)&&Fg(e)}function Hg(e,n,r){return r(function(){Gg(n)&&Fg(e)})}function Gg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!fn(e,r)}catch{return!0}}function Fg(e){var n=vs(e,2);n!==null&&ln(n,e,2)}function hf(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Cs){En(!0);try{r()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function Qg(e,n,r,o){return e.baseState=r,uf(e,Xt,typeof o=="function"?o:ki)}function Q0(e,n,r,o,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Kg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Kg(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),w=H.S;w!==null&&w(g,E),Yg(e,n,E)}catch(x){ff(e,n,x)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),Yg(e,n,f)}catch(x){ff(e,n,x)}}function Yg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Xg(e,n,o)},function(o){return ff(e,n,o)}):Xg(e,n,r)}function Xg(e,n,r){n.status="fulfilled",n.value=r,Zg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Kg(e,r)))}function ff(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Zg(n),n=n.next;while(n!==o)}e.action=null}function Zg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Jg(e,n){return n}function $g(e,n){if(Ut){var r=Wt.formState;if(r!==null){t:{var o=Tt;if(Ut){if(te){e:{for(var h=te,f=Dn;h.nodeType!==8;){if(!f){h=null;break e}if(h=On(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=On(h.nextSibling),o=h.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jg,lastRenderedState:n},r.queue=o,r=yp.bind(null,Tt,o),o.dispatch=r,o=hf(!1),f=_f.bind(null,Tt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=Q0.bind(null,Tt,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function Wg(e){var n=de();return tp(n,Xt,e)}function tp(e,n,r){if(n=uf(e,n,Jg)[0],e=ku(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ho(n)}catch(g){throw g===ya?Iu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Tt.flags|=2048,Aa(9,{destroy:void 0},K0.bind(null,h,r),null)),[o,f,e]}function K0(e,n){e.action=n}function ep(e){var n=de(),r=Xt;if(r!==null)return tp(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Aa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Tt.updateQueue,n===null&&(n=Lu(),Tt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function np(){return de().memoizedState}function xu(e,n,r,o){var h=tn();Tt.flags|=e,h.memoizedState=Aa(1|n,{destroy:void 0},r,o===void 0?null:o)}function zu(e,n,r,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&nf(o,Xt.memoizedState.deps)?h.memoizedState=Aa(n,f,r,o):(Tt.flags|=e,h.memoizedState=Aa(1|n,f,r,o))}function ip(e,n){xu(8390656,8,e,n)}function df(e,n){zu(2048,8,e,n)}function Y0(e){Tt.flags|=4;var n=Tt.updateQueue;if(n===null)n=Lu(),Tt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function rp(e){var n=de().memoizedState;return Y0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sp(e,n){return zu(4,2,e,n)}function ap(e,n){return zu(4,4,e,n)}function op(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function lp(e,n,r){r=r!=null?r.concat([e]):null,zu(4,4,op.bind(null,n,e),r)}function mf(){}function up(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&nf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function cp(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&nf(n,o[1]))return o[0];if(o=e(),Cs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o}function gf(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=hy(),Tt.lanes|=e,br|=e,r)}function hp(e,n,r,o){return fn(r,n)?r:va.current!==null?(e=gf(e,r,o),fn(e,n)||(Ae=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=r):(e=hy(),Tt.lanes|=e,br|=e,n)}function fp(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,_f(e,!1,n,r);try{var w=h(),x=H.S;if(x!==null&&x(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var j=H0(w,o);Go(e,n,j,_n(e))}else Go(e,n,o,_n(e))}catch(F){Go(e,n,{then:function(){},status:"rejected",reason:F},_n())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function X0(){}function pf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=dp(e).queue;fp(e,h,n,lt,r===null?X0:function(){return mp(e),r(o)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},_n())}function yf(){return Be(ol)}function gp(){return de().memoizedState}function pp(){return de().memoizedState}function Z0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=_n();e=_r(r);var o=vr(n,e,r);o!==null&&(ln(o,n,r),zo(o,n,r)),n={cache:Fh()},e.payload=n;return}n=n.return}}function J0(e,n,r){var o=_n();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bu(e)?_p(n,r):(r=Uh(e,n,r,o),r!==null&&(ln(r,e,o),vp(r,n,o)))}function yp(e,n,r){var o=_n();Go(e,n,r,o)}function Go(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))_p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,fn(E,g))return Eu(e,n,h,0),Wt===null&&vu(),!1}catch{}if(r=Uh(e,n,h,o),r!==null)return ln(r,e,o),vp(r,n,o),!0}return!1}function _f(e,n,r,o){if(o={lane:2,revertLane:Zf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Uh(e,r,o,2),n!==null&&ln(n,e,2)}function Bu(e){var n=e.alternate;return e===Tt||n!==null&&n===Tt}function _p(e,n){Ea=Mu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function vp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ho(e,r)}}var Fo={readContext:Be,use:Pu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Fo.useEffectEvent=le;var Ep={readContext:Be,use:Pu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:ip,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,xu(4194308,4,op.bind(null,n,e),r)},useLayoutEffect:function(e,n){return xu(4194308,4,e,n)},useInsertionEffect:function(e,n){xu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Cs){En(!0);try{e()}finally{En(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Cs){En(!0);try{r(n)}finally{En(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=J0.bind(null,Tt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=hf(e);var n=e.queue,r=yp.bind(null,Tt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:mf,useDeferredValue:function(e,n){var r=tn();return gf(r,e,n)},useTransition:function(){var e=hf(!1);return e=fp.bind(null,Tt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Tt,h=tn();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Dt&127)!==0||qg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,ip(Hg.bind(null,o,f,e),[e]),o.flags|=2048,Aa(9,{destroy:void 0},jg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Wt.identifierPrefix;if(Ut){var r=pi,o=gi;r=(o&~(1<<32-ce(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Uu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=G0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:yf,useFormState:$g,useActionState:$g,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=_f.bind(null,Tt,!0,r),r.dispatch=n,[e,n]},useMemoCache:lf,useCacheRefresh:function(){return tn().memoizedState=Z0.bind(null,Tt)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:Be,use:Pu,useCallback:up,useContext:Be,useEffect:df,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:ku,useRef:np,useState:function(){return ku(ki)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return hp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=ku(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:yf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var r=de();return Qg(r,Xt,e,n)},useMemoCache:lf,useCacheRefresh:pp};vf.useEffectEvent=rp;var Tp={readContext:Be,use:Pu,useCallback:up,useContext:Be,useEffect:df,useImperativeHandle:lp,useInsertionEffect:sp,useLayoutEffect:ap,useMemo:cp,useReducer:cf,useRef:np,useState:function(){return cf(ki)},useDebugValue:mf,useDeferredValue:function(e,n){var r=de();return Xt===null?gf(r,e,n):hp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=cf(ki)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Ho(e),n]},useSyncExternalStore:Bg,useId:gp,useHostTransitionStatus:yf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var r=de();return Xt!==null?Qg(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:pp};Tp.useEffectEvent=rp;function Ef(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:b({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Tf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=_n(),h=_r(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=vr(e,h,o),n!==null&&(ln(n,e,o),zo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=_n(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(ln(n,e,r),zo(n,e,r))}};function Ap(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(r,o)||!Oo(h,f):!0}function Sp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Tf.enqueueReplaceState(n,n.state,null)}function Ds(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=b({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function bp(e){_u(e)}function Rp(e){console.error(e)}function wp(e){_u(e)}function qu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ip(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Af(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){qu(e,n)},r}function Cp(e){return e=_r(e),e.tag=3,e}function Dp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Ip(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Ip(n,r,o),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $0(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ma(n,r,h,!0),r=mn.current,r!==null){switch(r.tag){case 31:case 13:return Nn===null?Wu():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Kf(e,o,h)),!1;case 22:return r.flags|=65536,o===Cu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Kf(e,o,h)),!1}throw Error(a(435,r.tag))}return Kf(e,o,h),Wu(),!1}if(Ut)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Bh&&(e=Error(a(422),{cause:o}),Uo(wn(e,r)))):(o!==Bh&&(n=Error(a(423),{cause:o}),Uo(wn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=wn(o,r),h=Af(e.stateNode,o,h),Jh(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=wn(f,r),Wo===null?Wo=[f]:Wo.push(f),ue!==4&&(ue=2),n===null)return!0;o=wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Af(r.stateNode,o,e),Jh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rr===null||!Rr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Cp(h),Dp(h,e,r,o),Jh(r,h),!1}r=r.return}while(r!==null);return!1}var Sf=Error(a(461)),Ae=!1;function qe(e,n,r,o){n.child=e===null?Mg(n,null,r,o):Is(n,e.child,r,o)}function Np(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ss(n),o=rf(e,n,r,g,f,h),E=sf(),e!==null&&!Ae?(af(e,n,h),xi(e,n,h)):(Ut&&E&&xh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Op(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Lh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Vp(e,n,f,o,h)):(e=Au(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Of(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Oo,r(g,o)&&e.ref===n.ref)return xi(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Vp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Of(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,xi(e,n,h)}return bf(e,n,r,o,h)}function Mp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Up(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?Pg(n,f):Wh(),kg(n);else return o=n.lanes=536870912,Up(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(wu(n,f.cachePool),Pg(n,f),Tr(),n.memoizedState=null):(e!==null&&wu(n,null),Wh(),Tr());return qe(e,n,h,r),n.child}function Qo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Up(e,n,r,o,h){var f=Kh();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&wu(n,null),Wh(),kg(n),e!==null&&ma(e,n,o,!0),n.childLanes=h,null}function ju(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Lp(e,n,r){return Is(n,e.child,null,r),e=ju(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function W0(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=ju(n,o),n.lanes=536870912,Qo(null,e);if(ef(n),(e=te)?(e=Ky(e,Dn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ef(n),h)if(n.flags&256)n.flags&=-257,n=Lp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||ma(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=Wt,o!==null&&(g=fo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,vs(e,g),ln(o,e,g),Sf;Wu(),n=Lp(e,n,r)}else e=f.treeContext,te=On(g.nextSibling),ze=n,Ut=!0,mr=null,Dn=!1,e!==null&&Tg(n,e),n=ju(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function bf(e,n,r,o,h){return Ss(n),r=rf(e,n,r,o,void 0,h),o=sf(),e!==null&&!Ae?(af(e,n,h),xi(e,n,h)):(Ut&&o&&xh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Pp(e,n,r,o,h,f){return Ss(n),n.updateQueue=null,r=zg(n,o,r,h),xg(e),o=sf(),e!==null&&!Ae?(af(e,n,f),xi(e,n,f)):(Ut&&o&&xh(n),n.flags|=1,qe(e,n,r,f),n.child)}function kp(e,n,r,o,h){if(Ss(n),n.stateNode===null){var f=ca,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Tf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Xh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ca,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Tf.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,w=Ds(r,E);f.props=w;var x=f.context,j=r.contextType;g=ca,typeof j=="object"&&j!==null&&(g=Be(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||x!==g)&&Sp(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,qo(n,o,f,h),Bo(),x=n.memoizedState,E||z!==x||yr?(typeof F=="function"&&(Ef(n,r,F,o),x=n.memoizedState),(w=yr||Ap(n,r,w,o,z,x,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=x),f.props=o,f.state=x,f.context=g,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Zh(e,n),g=n.memoizedProps,j=Ds(r,g),f.props=j,F=n.pendingProps,z=f.context,x=r.contextType,w=ca,typeof x=="object"&&x!==null&&(w=Be(x)),E=r.getDerivedStateFromProps,(x=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==F||z!==w)&&Sp(n,f,o,w),yr=!1,z=n.memoizedState,f.state=z,qo(n,o,f,h),Bo();var q=n.memoizedState;g!==F||z!==q||yr||e!==null&&e.dependencies!==null&&bu(e.dependencies)?(typeof E=="function"&&(Ef(n,r,E,o),q=n.memoizedState),(j=yr||Ap(n,r,j,o,z,q,w)||e!==null&&e.dependencies!==null&&bu(e.dependencies))?(x||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=w,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Hu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Is(n,e.child,null,h),n.child=Is(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=xi(e,n,h),e}function xp(e,n,r,o){return Ts(),n.flags|=256,qe(e,n,r,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(e){return{baseLanes:e,cachePool:Ig()}}function If(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=yn),e}function zp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Er(n):Tr(),(e=te)?(e=Ky(e,Dn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:gi,overflow:pi}:null,retryLane:536870912,hydrationErrors:null},r=_g(e),r.return=n,n.child=r,ze=n,te=null)):e=null,e===null)throw gr(n);return ud(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Tr(),h=n.mode,E=Gu({mode:"hidden",children:E},h),o=Es(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=wf(r),o.childLanes=If(e,g,r),n.memoizedState=Rf,Qo(null,o)):(Er(n),Cf(n,E))}var w=e.memoizedState;if(w!==null&&(E=w.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Df(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),E=Es(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Is(n,e.child,null,r),o=n.child,o.memoizedState=wf(r),o.childLanes=If(e,g,r),n.memoizedState=Rf,n=Qo(null,o));else if(Er(n),ud(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var x=g.dgst;g=x,o=Error(a(419)),o.stack="",o.digest=g,Uo({value:o,source:null,stack:null}),n=Df(e,n,r)}else if(Ae||ma(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=Wt,g!==null&&(o=fo(g,r),o!==0&&o!==w.retryLane))throw w.retryLane=o,vs(e,o),ln(g,e,o),Sf;ld(E)||Wu(),n=Df(e,n,r)}else ld(E)?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,te=On(E.nextSibling),ze=n,Ut=!0,mr=null,Dn=!1,e!==null&&Tg(n,e),n=Cf(n,o.children),n.flags|=4096);return n}return h?(Tr(),E=o.fallback,h=n.mode,w=e.child,x=w.sibling,o=Vi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,x!==null?E=Vi(x,E):(E=Es(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Qo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=wf(r):(h=E.cachePool,h!==null?(w=Ee._currentValue,h=h.parent!==w?{parent:w,pool:w}:h):h=Ig(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=If(e,g,r),n.memoizedState=Rf,Qo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Cf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=dn(22,e,null,n),e.lanes=0,e}function Df(e,n,r){return Is(n,e.child,null,r),e=Cf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Bp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Hh(e.return,n,r)}function Nf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function qp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(fe,g),qe(e,n,o,r),o=Ut?Mo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bp(e,r,n);else if(e.tag===19)Bp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Vu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Nf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Vu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Nf(n,!0,r,null,f,o);break;case"together":Nf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ma(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Of(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&bu(e)))}function tA(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),pr(n,Ee,e.memoizedState.cache),Ts();break;case 27:case 5:es(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ef(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?zp(e,n,r):(Er(n),e=xi(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ma(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return qp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Mp(e,n,r,n.pendingProps);case 24:pr(n,Ee,e.memoizedState.cache)}return xi(e,n,r)}function jp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Of(e,r)&&(n.flags&128)===0)return Ae=!1,tA(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&Eg(n,Mo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Rs(n.elementType),n.type=e,typeof e=="function")Lh(e)?(o=Ds(e,o),n.tag=1,n=kp(null,n,e,o,r)):(n.tag=0,n=bf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=Np(null,n,e,o,r);break t}else if(h===D){n.tag=14,n=Op(null,n,e,o,r);break t}}throw n=$t(e)||e,Error(a(306,n,""))}}return n;case 0:return bf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Ds(o,n.pendingProps),kp(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Zh(e,n),qo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,pr(n,Ee,o),o!==f.cache&&Gh(n,[Ee],r,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=xp(e,n,o,r);break t}else if(o!==h){h=wn(Error(a(424)),n),Uo(h),n=xp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=On(e.firstChild),ze=n,Ut=!0,mr=null,Dn=!0,r=Mg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ts(),o===h){n=xi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Hu(e,n),e===null?(r=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=ac(At.current).createElement(r),o[ye]=n,o[Ve]=e,je(o,r,e),_e(o),n.stateNode=o):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return es(n),e===null&&Ut&&(o=n.stateNode=Zy(n.type,n.pendingProps,At.current),ze=n,Dn=!0,h=te,Dr(n.type)?(cd=h,te=On(o.firstChild)):te=h),qe(e,n,n.pendingProps.children,r),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=te)&&(o=NA(o,n.type,n.pendingProps,Dn),o!==null?(n.stateNode=o,ze=n,te=On(o.firstChild),Dn=!1,h=!0):h=!1),h||gr(n)),es(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,sd(h,f)?o=null:g!==null&&sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=rf(e,n,F0,null,null,r),ol._currentValue=h),Hu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=te)&&(r=OA(r,n.pendingProps,Dn),r!==null?(n.stateNode=r,ze=n,te=null,e=!0):e=!1),e||gr(n)),null;case 13:return zp(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Is(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Np(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ss(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Op(e,n,n.type,n.pendingProps,r);case 15:return Vp(e,n,n.type,n.pendingProps,r);case 19:return qp(e,n,r);case 31:return W0(e,n,r);case 22:return Mp(e,n,r,n.pendingProps);case 24:return Ss(n),o=Be(Ee),e===null?(h=Kh(),h===null&&(h=Wt,f=Fh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},Xh(n),pr(n,Ee,h)):((e.lanes&r)!==0&&(Zh(e,n),qo(n,null,null,r),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Ee,o)):(o=f.cache,pr(n,Ee,o),o!==h.cache&&Gh(n,[Ee],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function Vf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw ws=Cu,Yh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r_(n))if(gy())e.flags|=8192;else throw ws=Cu,Yh}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jl():536870912,e.lanes|=n,wa|=n)}function Ko(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function eA(e,n,r){var o=n.pendingProps;switch(zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Li(Ee),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(da(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,qh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ee(n),Hp(n,f)):(ee(n),Vf(n,h,null,o,r))):f?f!==e.memoizedState?(zi(n),ee(n),Hp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ee(n),Vf(n,h,e,o,r)),null;case 27:if(Fs(n),r=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=it.current,da(n)?Ag(n):(e=Zy(h,o,r),n.stateNode=e,zi(n))}return ee(n),null;case 5:if(Fs(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=it.current,da(n))Ag(n);else{var g=ac(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ee(n),Vf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,da(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||zy(e.nodeValue,r)),e||gr(n,!0)}else e=ac(e).createTextNode(o),e[ye]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=da(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ye]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ye]=n}else Ts(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&td(n.stateNode.containerInfo),ee(n),null;case 10:return Li(n.type),ee(n),null;case 19:if(Q(fe),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Vu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)yg(r,e),r=r.sibling;return tt(fe,fe.current&1|2),Ut&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Zu&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Vu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ee(n),null}else 2*$e()-o.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=fe.current,tt(fe,h?r&1|2:r&1),Ut&&Mi(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return gn(n),tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Fu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Q(bs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ee),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function nA(e,n){switch(zh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Li(Ee),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fs(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ts()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(fe),null;case 4:return re(),null;case 10:return Li(n.type),null;case 22:case 23:return gn(n),tf(),e!==null&&Q(bs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Li(Ee),null;case 25:return null;default:return null}}function Gp(e,n){switch(zh(n),n.tag){case 3:Li(Ee),re();break;case 26:case 27:case 5:Fs(n);break;case 4:re();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Q(fe);break;case 10:Li(n.type);break;case 22:case 23:gn(n),tf(),e!==null&&Q(bs);break;case 24:Li(Ee)}}function Yo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function Ar(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var w=r,x=E;try{x()}catch(j){Qt(h,w,j)}}}o=o.next}while(o!==f)}}catch(j){Qt(n,n.return,j)}}function Fp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Lg(n,r)}catch(o){Qt(e,e.return,o)}}}function Qp(e,n,r){r.props=Ds(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function Xo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function yi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function Kp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function Mf(e,n,r){try{var o=e.stateNode;bA(o,e.type,r,n),o[Ve]=n}catch(h){Qt(e,e.return,h)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Uf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Lf(e,n,r),e=e.sibling;e!==null;)Lf(e,n,r),e=e.sibling}function Qu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qu(e,n,r),e=e.sibling;e!==null;)Qu(e,n,r),e=e.sibling}function Xp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[ye]=e,n[Ve]=r}catch(f){Qt(e,e.return,f)}}var Bi=!1,Se=!1,Pf=!1,Zp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function iA(e,n){if(e=e.containerInfo,id=dc,e=lg(e),Ch(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,w=-1,x=0,j=0,F=e,z=null;e:for(;;){for(var q;F!==r||h!==0&&F.nodeType!==3||(E=g+h),F!==f||o!==0&&F.nodeType!==3||(w=g+o),F.nodeType===3&&(g+=F.nodeValue.length),(q=F.firstChild)!==null;)z=F,F=q;for(;;){if(F===e)break e;if(z===r&&++x===h&&(E=g),z===f&&++j===o&&(w=g),(q=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=q}r=E===-1||w===-1?null:{start:E,end:w}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=Ds(r.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Qt(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)od(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Jp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ji(e,r),o&4&&Yo(5,r);break;case 1:if(ji(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(r,r.return,g)}else{var h=Ds(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(r,r.return,g)}}o&64&&Fp(r),o&512&&Xo(r,r.return);break;case 3:if(ji(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Lg(e,n)}catch(g){Qt(r,r.return,g)}}break;case 27:n===null&&o&4&&Xp(r);case 26:case 5:ji(e,r),n===null&&o&4&&Kp(r),o&512&&Xo(r,r.return);break;case 12:ji(e,r);break;case 31:ji(e,r),o&4&&ty(e,r);break;case 13:ji(e,r),o&4&&ey(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=fA.bind(null,r),VA(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Bi;var f=Se;Bi=o,(Se=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):ji(e,r),Bi=h,Se=f}break;case 30:break;default:ji(e,r)}}function $p(e){var n=e.alternate;n!==null&&(e.alternate=null,$p(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function qi(e,n,r){for(r=r.child;r!==null;)Wp(e,n,r),r=r.sibling}function Wp(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:Se||yi(r,n),qi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Se||yi(r,n);var o=ae,h=rn;Dr(r.type)&&(ae=r.stateNode,rn=!1),qi(e,n,r),rl(r.stateNode),ae=o,rn=h;break;case 5:Se||yi(r,n);case 6:if(o=ae,h=rn,ae=null,qi(e,n,r),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Ua(e)):Fy(ae,r.stateNode));break;case 4:o=ae,h=rn,ae=r.stateNode.containerInfo,rn=!0,qi(e,n,r),ae=o,rn=h;break;case 0:case 11:case 14:case 15:Ar(2,r,n),Se||Ar(4,r,n),qi(e,n,r);break;case 1:Se||(yi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Qp(r,n,o)),qi(e,n,r);break;case 21:qi(e,n,r);break;case 22:Se=(o=Se)||r.memoizedState!==null,qi(e,n,r),Se=o;break;default:qi(e,n,r)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(r){Qt(n,n.return,r)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(r){Qt(n,n.return,r)}}function rA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zp),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var r=rA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=dA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));Wp(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var Qn=null;function ny(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(Ar(3,e,e.return),Yo(3,e),Ar(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Qn;if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ii]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[ye]=e,_e(f),o=f;break t;case"link":var g=n_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=n_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?i_(h,e.type,e.stateNode):e_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),r!==null&&o&4&&Mf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(Se||r===null||yi(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(rt){Qt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(uc=null,h=Qn,Qn=oc(n.containerInfo),sn(n,e),Qn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}Pf&&(Pf=!1,iy(e));break;case 4:o=Qn,Qn=oc(e.stateNode.containerInfo),sn(n,e),an(e),Qn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Xu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 22:h=e.memoizedState!==null;var w=r!==null&&r.memoizedState!==null,x=Bi,j=Se;if(Bi=x||h,Se=j||w,sn(n,e),Se=j,Bi=x,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||w||Bi||Se||Ns(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){w=r=n;try{if(f=w.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=w.stateNode;var F=w.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===6){if(r===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(rt){Qt(w,w.return,rt)}}}else if(n.tag===18){if(r===null){w=n;try{var q=w.stateNode;h?Qy(q,!0):Qy(w.stateNode,!1)}catch(rt){Qt(w,w.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ku(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ku(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Yp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Uf(e);Qu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=Uf(e);Qu(e,E,g);break;case 3:case 4:var w=r.stateNode.containerInfo,x=Uf(e);Lf(e,x,w);break;default:throw Error(a(161))}}catch(j){Qt(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ji(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Jp(e,n.alternate,n),n=n.sibling}function Ns(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ar(4,n,n.return),Ns(n);break;case 1:yi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qp(n,n.return,r),Ns(n);break;case 27:rl(n.stateNode);case 26:case 5:yi(n,n.return),Ns(n);break;case 22:n.memoizedState===null&&Ns(n);break;case 30:Ns(n);break;default:Ns(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(h,f,r),Yo(4,f);break;case 1:if(Hi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(x){Qt(o,o.return,x)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Ug(w[h],E)}catch(x){Qt(o,o.return,x)}}r&&g&64&&Fp(f),Xo(f,f.return);break;case 27:Xp(f);case 26:case 5:Hi(h,f,r),r&&o===null&&g&4&&Kp(f),Xo(f,f.return);break;case 12:Hi(h,f,r);break;case 31:Hi(h,f,r),r&&g&4&&ty(h,f);break;case 13:Hi(h,f,r),r&&g&4&&ey(h,f);break;case 22:f.memoizedState===null&&Hi(h,f,r),Xo(f,f.return);break;case 30:break;default:Hi(h,f,r)}n=n.sibling}}function kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Lo(r))}function xf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Kn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ry(e,n,r,o),n=n.sibling}function ry(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Kn(e,n,r,o),h&2048&&Yo(9,n);break;case 1:Kn(e,n,r,o);break;case 3:Kn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Kn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Qt(n,n.return,w)}}else Kn(e,n,r,o);break;case 31:Kn(e,n,r,o);break;case 13:Kn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Kn(e,n,r,o):Zo(e,n):f._visibility&2?Kn(e,n,r,o):(f._visibility|=2,Sa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(g,n);break;case 24:Kn(e,n,r,o),h&2048&&xf(n.alternate,n);break;default:Kn(e,n,r,o)}}function Sa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,w=o,x=g.flags;switch(g.tag){case 0:case 11:case 15:Sa(f,g,E,w,h),Yo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Sa(f,g,E,w,h):Zo(f,g):(j._visibility|=2,Sa(f,g,E,w,h)),h&&x&2048&&kf(g.alternate,g);break;case 24:Sa(f,g,E,w,h),h&&x&2048&&xf(g.alternate,g);break;default:Sa(f,g,E,w,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(r,o),h&2048&&kf(o.alternate,o);break;case 24:Zo(r,o),h&2048&&xf(o.alternate,o);break;default:Zo(r,o)}n=n.sibling}}var Jo=8192;function ba(e,n,r){if(e.subtreeFlags&Jo)for(e=e.child;e!==null;)sy(e,n,r),e=e.sibling}function sy(e,n,r){switch(e.tag){case 26:ba(e,n,r),e.flags&Jo&&e.memoizedState!==null&&GA(r,Qn,e.memoizedState,e.memoizedProps);break;case 5:ba(e,n,r);break;case 3:case 4:var o=Qn;Qn=oc(e.stateNode.containerInfo),ba(e,n,r),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Jo,Jo=16777216,ba(e,n,r),Jo=o):ba(e,n,r));break;default:ba(e,n,r)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function $o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ly(o,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oy(e),e=e.sibling}function oy(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&Ar(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):$o(e);break;default:$o(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,ly(o,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ar(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function ly(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Ar(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if($p(o),o===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var sA={getCacheForType:function(e){var n=Be(Ee),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Ee).controller.signal}},aA=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,wt=null,Dt=0,Ft=0,pn=null,Sr=!1,Ra=!1,zf=!1,Gi=0,ue=0,br=0,Os=0,Bf=0,yn=0,wa=0,Wo=null,on=null,qf=!1,Xu=0,uy=0,Zu=1/0,Ju=null,Rr=null,De=0,wr=null,Ia=null,Fi=0,jf=0,Hf=null,cy=null,tl=0,Gf=null;function _n(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:H.T!==null?Zf():$l()}function hy(){if(yn===0)if((Dt&536870912)===0||Ut){var e=rs;rs<<=1,(rs&3932160)===0&&(rs=262144),yn=e}else yn=536870912;return e=mn.current,e!==null&&(e.flags|=32),yn}function ln(e,n,r){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ca(e,0),Ir(e,Dt,yn,!1)),ss(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Os|=r),ue===4&&Ir(e,Dt,yn,!1)),_i(e))}function fy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?uA(e,n):Qf(e,n,!0),f=o;do{if(h===0){Ra&&!o&&Ir(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!oA(r)){h=Qf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=Wo;var w=E.current.memoizedState.isDehydrated;if(w&&(Ca(E,g).flags|=256),g=Qf(E,g,!1),g!==2){if(zf&&!w){E.errorRecoveryDisabledLanes|=f,Os|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ca(e,0),Ir(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ir(o,n,yn,!Sr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-$e(),10<h)){if(Ir(o,n,yn,!Sr),ti(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Hy(dy.bind(null,o,r,on,Ju,qf,n,yn,Os,wa,Sr,f,"Throttled",-0,0),h);break t}dy(o,r,on,Ju,qf,n,yn,Os,wa,Sr,f,null,-0,0)}}break}while(!0);_i(e)}function dy(e,n,r,o,h,f,g,E,w,x,j,F,z,q){if(e.timeoutHandle=-1,F=n.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},sy(n,f,F);var rt=(f&62914560)===f?Xu-$e():(f&4194048)===f?uy-$e():0;if(rt=FA(F,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(Ty.bind(null,e,n,f,r,o,h,g,E,w,j,F,null,z,q)),Ir(e,f,g,!x);return}}Ty(e,n,f,r,o,h,g,E,w)}function oA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!fn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ir(e,n,r,o){n&=~Bf,n&=~Os,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&as(e,r,n)}function $u(){return(qt&6)===0?(el(0),!1):!0}function Ff(){if(wt!==null){if(Ft===0)var e=wt.return;else e=wt,Ui=As=null,of(e),_a=null,ko=0,e=wt;for(;e!==null;)Gp(e.alternate,e),e=e.return;wt=null}}function Ca(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,IA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,Ff(),Wt=e,wt=r=Vi(e.current,null),Dt=n,Ft=0,pn=null,Sr=!1,Ra=kn(e,n),zf=!1,wa=yn=Bf=Os=br=ue=0,on=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,vu(),r}function my(e,n){Tt=null,H.H=Fo,n===ya||n===Iu?(n=Ng(),Ft=3):n===Yh?(n=Ng(),Ft=4):Ft=n===Sf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,wt===null&&(ue=1,qu(e,wn(n,e.current)))}function gy(){var e=mn.current;return e===null?!0:(Dt&4194048)===Dt?Nn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Nn:!1}function py(){var e=H.H;return H.H=Fo,e===null?Fo:e}function yy(){var e=H.A;return H.A=sA,e}function Wu(){ue=4,Sr||(Dt&4194048)!==Dt&&mn.current!==null||(Ra=!0),(br&134217727)===0&&(Os&134217727)===0||Wt===null||Ir(Wt,Dt,yn,!1)}function Qf(e,n,r){var o=qt;qt|=2;var h=py(),f=yy();(Wt!==e||Dt!==n)&&(Ju=null,Ca(e,n)),n=!1;var g=ue;t:do try{if(Ft!==0&&wt!==null){var E=wt,w=pn;switch(Ft){case 8:Ff(),g=6;break t;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var x=Ft;if(Ft=0,pn=null,Da(e,E,w,x),r&&Ra){g=0;break t}break;default:x=Ft,Ft=0,pn=null,Da(e,E,w,x)}}lA(),g=ue;break}catch(j){my(e,j)}while(!0);return n&&e.shellSuspendCounter++,Ui=As=null,qt=o,H.H=h,H.A=f,wt===null&&(Wt=null,Dt=0,vu()),g}function lA(){for(;wt!==null;)_y(wt)}function uA(e,n){var r=qt;qt|=2;var o=py(),h=yy();Wt!==e||Dt!==n?(Ju=null,Zu=$e()+500,Ca(e,n)):Ra=kn(e,n);t:do try{if(Ft!==0&&wt!==null){n=wt;var f=pn;e:switch(Ft){case 1:Ft=0,pn=null,Da(e,n,f,1);break;case 2:case 9:if(Cg(f)){Ft=0,pn=null,vy(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),_i(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Cg(f)?(Ft=0,pn=null,vy(n)):(Ft=0,pn=null,Da(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?r_(g):E.stateNode.complete){Ft=0,pn=null;var w=E.sibling;if(w!==null)wt=w;else{var x=E.return;x!==null?(wt=x,tc(x)):wt=null}break e}}Ft=0,pn=null,Da(e,n,f,5);break;case 6:Ft=0,pn=null,Da(e,n,f,6);break;case 8:Ff(),ue=6;break t;default:throw Error(a(462))}}cA();break}catch(j){my(e,j)}while(!0);return Ui=As=null,H.H=o,H.A=h,qt=r,wt!==null?0:(Wt=null,Dt=0,vu(),ue)}function cA(){for(;wt!==null&&!Th();)_y(wt)}function _y(e){var n=jp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?tc(e):wt=n}function vy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Pp(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Pp(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:of(n);default:Gp(r,n),n=wt=yg(n,Gi),n=jp(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?tc(e):wt=n}function Da(e,n,r,o){Ui=As=null,of(n),_a=null,ko=0;var h=n.return;try{if($0(e,h,n,r,Dt)){ue=1,qu(e,wn(r,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,qu(e,wn(r,e.current)),wt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ra||(Dt&536870912)!==0?e=!1:(Sr=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ey(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,Sr);return}e=n.return;var r=eA(n.alternate,n,Gi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Ey(e,n){do{var r=nA(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);ue=6,wt=null}function Ty(e,n,r,o,h,f,g,E,w){e.cancelPendingCommit=null;do ec();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mh,bh(e,r,f,g,E,w),e===Wt&&(wt=Wt=null,Dt=0),Ia=n,wr=e,Fi=r,jf=f,Hf=h,cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mA(ir,function(){return wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=qt,qt|=4;try{iA(e,n,r)}finally{qt=g,W.p=h,H.T=o}}De=1,Ay(),Sy(),by()}}function Ay(){if(De===1){De=0;var e=wr,n=Ia,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{ny(n,e);var f=rd,g=lg(e.containerInfo),E=f.focusedElem,w=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&og(E.ownerDocument.documentElement,E)){if(w!==null&&Ch(E)){var x=w.start,j=w.end;if(j===void 0&&(j=x),"selectionStart"in E)E.selectionStart=x,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var q=z.getSelection(),rt=E.textContent.length,ht=Math.min(w.start,rt),Jt=w.end===void 0?ht:Math.min(w.end,rt);!q.extend&&ht>Jt&&(g=Jt,Jt=ht,ht=g);var U=ag(E,ht),N=ag(E,Jt);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var k=F.createRange();k.setStart(U.node,U.offset),q.removeAllRanges(),ht>Jt?(q.addRange(k),q.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),q.addRange(k))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var G=F[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}dc=!!id,rd=id=null}finally{qt=h,W.p=o,H.T=r}}e.current=n,De=2}}function Sy(){if(De===2){De=0;var e=wr,n=Ia,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=qt;qt|=4;try{Jp(e,n.alternate,n)}finally{qt=h,W.p=o,H.T=r}}De=3}}function by(){if(De===4||De===3){De=0,Fl();var e=wr,n=Ia,r=Fi,o=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Ia=wr=null,Ry(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rr=null),Ci(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Fi&3)!==0&&ec(),_i(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Gf?tl++:(tl=0,Gf=e):tl=0,el(0)}}function Ry(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function ec(){return Ay(),Sy(),by(),wy()}function wy(){if(De!==5)return!1;var e=wr,n=jf;jf=0;var r=Ci(Fi),o=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=Hf,Hf=null;var f=wr,g=Fi;if(De=0,Ia=wr=null,Fi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,oy(f.current),ry(f,f.current,g,r),qt=E,el(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{W.p=h,H.T=o,Ry(e,n)}}function Iy(e,n,r){n=wn(r,n),n=Af(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(ss(e,2),_i(e))}function Qt(e,n,r){if(e.tag===3)Iy(e,e,r);else for(;n!==null;){if(n.tag===3){Iy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=wn(r,e),r=Cp(2),o=vr(n,r,2),o!==null&&(Dp(r,o,n,e),ss(o,2),_i(o));break}}n=n.return}}function Kf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new aA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(zf=!0,h.add(r),e=hA.bind(null,e,n,r),n.then(e,e))}function hA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Dt&r)===r&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>$e()-Xu?(qt&2)===0&&Ca(e,0):Bf|=r,wa===Dt&&(wa=0)),_i(e)}function Cy(e,n){n===0&&(n=Jl()),e=vs(e,n),e!==null&&(ss(e,n),_i(e))}function fA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Cy(e,r)}function dA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Cy(e,r)}function mA(e,n){return Ce(e,n)}var nc=null,Na=null,Yf=!1,ic=!1,Xf=!1,Cr=0;function _i(e){e!==Na&&e.next===null&&(Na===null?nc=Na=e:Na=Na.next=e),ic=!0,Yf||(Yf=!0,pA())}function el(e,n){if(!Xf&&ic){Xf=!0;do for(var r=!1,o=nc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Vy(o,f))}else f=Dt,f=ti(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(r=!0,Vy(o,f));o=o.next}while(r);Xf=!1}}function gA(){Dy()}function Dy(){ic=Yf=!1;var e=0;Cr!==0&&wA()&&(e=Cr);for(var n=$e(),r=null,o=nc;o!==null;){var h=o.next,f=Ny(o,n);f===0?(o.next=null,r===null?nc=h:r.next=h,h===null&&(Na=r)):(r=o,(e!==0||(f&3)!==0)&&(ic=!0)),o=h}De!==0&&De!==5||el(e),Cr!==0&&(Cr=0)}function Ny(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,w=h[g];w===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Sh(E,n)):w<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Dt,r=ti(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Ci(r)){case 2:case 8:r=co;break;case 32:r=ir;break;case 268435456:r=Ql;break;default:r=ir}return o=Oy.bind(null,e),r=Ce(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(ec()&&e.callbackNode!==r)return null;var o=Dt;return o=ti(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(fy(e,o,n),Ny(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Oy.bind(null,e):null)}function Vy(e,n){if(ec())return null;fy(e,n,!0)}function pA(){CA(function(){(qt&6)!==0?Ce(uo,gA):Dy()})}function Zf(){if(Cr===0){var e=ga;e===0&&(e=$n,$n<<=1,($n&261888)===0&&($n=256)),Cr=e}return Cr}function My(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ta(""+e)}function Uy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function yA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=My((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?My(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new hi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var w=g?Uy(h,g):new FormData(h);pf(r,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(E.preventDefault(),w=g?Uy(h,g):new FormData(h),pf(r,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Jf=0;Jf<Vh.length;Jf++){var $f=Vh[Jf],_A=$f.toLowerCase(),vA=$f[0].toUpperCase()+$f.slice(1);Fn(_A,"on"+vA)}Fn(hg,"onAnimationEnd"),Fn(fg,"onAnimationIteration"),Fn(dg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(L0,"onTransitionRun"),Fn(P0,"onTransitionStart"),Fn(k0,"onTransitionCancel"),Fn(mg,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function Ly(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],w=E.instance,x=E.currentTarget;if(E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){_u(j)}h.currentTarget=null,f=w}else for(g=0;g<o.length;g++){if(E=o[g],w=E.instance,x=E.currentTarget,E=E.listener,w!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=x;try{f(h)}catch(j){_u(j)}h.currentTarget=null,f=w}}}}function It(e,n){var r=n[Xs];r===void 0&&(r=n[Xs]=new Set);var o=e+"__bubble";r.has(o)||(Py(n,e,2,!1),r.add(o))}function Wf(e,n,r){var o=0;n&&(o|=4),Py(r,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[rc]){e[rc]=!0,mo.forEach(function(r){r!=="selectionchange"&&(EA.has(r)||Wf(r,!1,e),Wf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,Wf("selectionchange",!1,n))}}function Py(e,n,r,o){switch(h_(n)){case 2:var h=YA;break;case 8:h=XA;break;default:h=gd}r=h.bind(null,n,r,e),h=void 0,!hs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ed(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(w=g.tag,w===5||w===6||w===26||w===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var x=f,j=An(r),F=[];t:{var z=gg.get(e);if(z!==void 0){var q=hi,rt=e;switch(e){case"keypress":if(ds(r)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":rt="focus",q=gs;break;case"focusout":rt="blur",q=gs;break;case"beforeblur":case"afterblur":q=gs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case hg:case fg:case dg:q=lu;break;case mg:q=T;break;case"scroll":case"scrollend":q=wo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Oi;break;case"toggle":case"beforetoggle":q=Et}var ht=(n&4)!==0,Jt=!ht&&(e==="scroll"||e==="scrollend"),U=ht?z!==null?z+"Capture":null:z;ht=[];for(var N=x,k;N!==null;){var G=N;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||U===null||(G=qn(N,U),G!=null&&ht.push(il(N,G,k))),Jt)break;N=N.return}0<ht.length&&(z=new q(z,rt,null,r,j),F.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==So&&(rt=r.relatedTarget||r.fromElement)&&(ri(rt)||rt[ni]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=x,rt=rt?ri(rt):null,rt!==null&&(Jt=c(rt),ht=rt.tag,rt!==Jt||ht!==5&&ht!==27&&ht!==6)&&(rt=null)):(q=null,rt=x),q!==rt)){if(ht=Io,G="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Oi,G="onPointerLeave",U="onPointerEnter",N="pointer"),Jt=q==null?z:cn(q),k=rt==null?z:cn(rt),z=new ht(G,N+"leave",q,r,j),z.target=Jt,z.relatedTarget=k,G=null,ri(j)===x&&(ht=new ht(U,N+"enter",rt,r,j),ht.target=k,ht.relatedTarget=Jt,G=ht),Jt=G,q&&rt)e:{for(ht=TA,U=q,N=rt,k=0,G=U;G;G=ht(G))k++;G=0;for(var ot=N;ot;ot=ht(ot))G++;for(;0<k-G;)U=ht(U),k--;for(;0<G-k;)N=ht(N),G--;for(;k--;){if(U===N||N!==null&&U===N.alternate){ht=U;break e}U=ht(U),N=ht(N)}ht=null}else ht=null;q!==null&&ky(F,z,q,ht,!1),rt!==null&&Jt!==null&&ky(F,Jt,rt,ht,!0)}}t:{if(z=x?cn(x):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var xt=tg;else if($m(z))if(eg)xt=V0;else{xt=N0;var st=D0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?x&&Ws(x.elementType)&&(xt=tg):xt=O0;if(xt&&(xt=xt(e,x))){Wm(F,xt,r,j);break t}st&&st(e,z,x),e==="focusout"&&x&&z.type==="number"&&x.memoizedProps.value!=null&&Eo(z,"number",z.value)}switch(st=x?cn(x):window,e){case"focusin":($m(st)||st.contentEditable==="true")&&(oa=st,Dh=x,Vo=null);break;case"focusout":Vo=Dh=oa=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,ug(F,r,j);break;case"selectionchange":if(U0)break;case"keydown":case"keyup":ug(F,r,j)}var St;if(Bt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else aa?ps(e,r)&&(Nt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Nt="onCompositionStart");Nt&&(mi&&r.locale!=="ko"&&(aa||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&aa&&(St=Ro()):(ci=j,bo="value"in ci?ci.value:ci.textContent,aa=!0)),st=sc(x,Nt),0<st.length&&(Nt=new di(Nt,e,null,r,j),F.push({event:Nt,listeners:st}),St?Nt.data=St:(St=sa(r),St!==null&&(Nt.data=St)))),(St=bn?R0(e,r):w0(e,r))&&(Nt=sc(x,"onBeforeInput"),0<Nt.length&&(st=new di("onBeforeInput","beforeinput",null,r,j),F.push({event:st,listeners:Nt}),st.data=St)),yA(F,e,x,r,j)}Ly(F,n)})}function il(e,n,r){return{instance:e,listener:n,currentTarget:r}}function sc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,r),h!=null&&o.unshift(il(e,h,f)),h=qn(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function TA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ky(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,w=E.alternate,x=E.stateNode;if(E=E.tag,w!==null&&w===o)break;E!==5&&E!==26&&E!==27||x===null||(w=x,h?(x=qn(r,f),x!=null&&g.unshift(il(r,x,w))):h||(x=qn(r,f),x!=null&&g.push(il(r,x,w)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var AA=/\r\n?/g,SA=/\u0000|\uFFFD/g;function xy(e){return(typeof e=="string"?e:""+e).replace(AA,`
`).replace(SA,"")}function zy(e,n){return n=xy(n),xy(e)===n}function Zt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":hn(e,"class",o);break;case"tabIndex":hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":hn(e,r,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ta(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ta(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Js(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Js(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=su.get(r)||r,Js(e,r,o))}}function nd(e,n,r,o,h,f){switch(r){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Js(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,r,null)}}h&&Zt(e,n,"srcSet",r.srcSet,r,null),o&&Zt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=g=h=null,w=null,x=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":w=j;break;case"defaultChecked":x=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Zt(e,n,o,j,r,null)}}nu(e,f,E,w,x,g,h,!1);return;case"select":It("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,r,null)}ar(e,o,h,f);return;case"option":for(w in r)r.hasOwnProperty(w)&&(o=r[w],o!=null)&&(w==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,w,o,r,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)It(nl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,x,o,r,null)}return;default:if(Ws(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&nd(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Zt(e,n,E,o,r,null))}function bA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,w=null,x=null,j=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":w=F;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,F)}}for(var z in o){var q=o[z];if(F=r[z],o.hasOwnProperty(z)&&(q!=null||F!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":x=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Zt(e,n,z,q,o,F)}}$s(e,g,E,w,x,j,f,h);return;case"select":q=g=E=z=null;for(f in r)if(w=r[f],r.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":q=w;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=r[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==w&&Zt(e,n,h,f,o,w)}n=E,r=g,o=q,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}iu(e,z,q);return;case"option":for(var rt in r)z=r[rt],r.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Zt(e,n,rt,null,o,z));for(w in o)z=o[w],q=r[w],o.hasOwnProperty(w)&&z!==q&&(z!=null||q!=null)&&(w==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,w,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Zt(e,n,ht,null,o,z);for(x in o)if(z=o[x],q=r[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,x,z,o,q)}return;default:if(Ws(n)){for(var Jt in r)z=r[Jt],r.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&nd(e,n,Jt,void 0,o,z);for(j in o)z=o[j],q=r[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||nd(e,n,j,z,o,q);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,z);for(F in o)z=o[F],q=r[F],!o.hasOwnProperty(F)||z===q||z==null&&q==null||Zt(e,n,F,z,o,q)}function By(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&By(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var w=r[o],x=w.startTime;if(x>E)break;var j=w.transferSize,F=w.initiatorType;j&&By(F)&&(w=w.responseEnd,g+=j*(w<E?1:(E-x)/(w-x)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var id=null,rd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ad=null;function wA(){var e=window.event;return e&&e.type==="popstate"?e===ad?!1:(ad=e,!0):(ad=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,CA=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(DA)}:Hy;function DA(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function Fy(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")rl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,rl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&rl(e.ownerDocument.body);r=h}while(r);Ua(n)}function Qy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function od(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":od(r),Zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function NA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=On(e.nextSibling),e===null)break}return null}function OA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=On(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=On(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function ud(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function VA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function On(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var cd=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return On(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Zy(e,n,r){switch(n=ac(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zs(e)}var Vn=new Map,Jy=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=W.d;W.d={f:MA,r:UA,D:LA,C:PA,L:kA,m:xA,X:BA,S:zA,M:qA};function MA(){var e=Qi.f(),n=$u();return e||n}function UA(e){var n=Tn(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):Qi.r(e)}var Oa=typeof document>"u"?null:document;function $y(e,n,r){var o=Oa;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Jy.has(h)||(Jy.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function LA(e){Qi.D(e),$y("dns-prefetch",e,null)}function PA(e,n){Qi.C(e,n),$y("preconnect",e,n)}function kA(e,n,r){Qi.L(e,n,r);var o=Oa;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=Ma(e)}Vn.has(f)||(e=b({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),je(n,"link",e),_e(n),o.head.appendChild(n)))}}function xA(e,n){Qi.m(e,n);var r=Oa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Vn.has(f)&&(e=b({rel:"modulepreload",href:e},n),Vn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(al(f)))return}o=r.createElement("link"),je(o,"link",e),_e(o),r.head.appendChild(o)}}}function zA(e,n,r){Qi.S(e,n,r);var o=Oa;if(o&&e){var h=si(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(sl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Vn.get(f))&&hd(e,r);var w=g=o.createElement("link");_e(w),je(w,"link",e),w._p=new Promise(function(x,j){w.onload=x,w.onerror=j}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function BA(e,n){Qi.X(e,n);var r=Oa;if(r&&e){var o=si(r).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=b({src:e,async:!0},n),(n=Vn.get(h))&&fd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function qA(e,n){Qi.M(e,n);var r=Oa;if(r&&e){var o=si(r).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=r.querySelector(al(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&fd(e,n),f=r.createElement("script"),_e(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Wy(e,n,r,o){var h=(h=At.current)?oc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=si(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=si(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(sl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(e,r),f||jA(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(r),r=si(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+en(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function jA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),_e(n),e.head.appendChild(n))}function Ma(e){return'[src="'+en(e)+'"]'}function al(e){return"script[async]"+e}function e_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),je(o,"style",h),lc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=t_(r),(h=Vn.get(h))&&hd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),n.state.loading|=4,lc(f,r.precedence,e),n.instance=f;case"script":return f=Ma(r.src),(h=e.querySelector(al(f)))?(n.instance=h,_e(h),h):(o=r,(h=Vn.get(f))&&(o=b({},r),fd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,lc(o,r.precedence,e));return n.instance}function lc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function hd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function fd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function n_(e,n,r){if(uc===null){var o=new Map,h=uc=new Map;h.set(r,o)}else h=uc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ii]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function i_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function HA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function GA(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(o.href),f=n.querySelector(sl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,_e(f);return}f=n.ownerDocument||n,o=t_(o),(h=Vn.get(h))&&hd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,w){g.onload=E,g.onerror=w}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=cc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var dd=0;function FA(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&dd===0&&(dd=62500*RA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>dd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(QA,e),hc=null,cc.call(e))}function QA(e,n){if(!(n.state.loading&4)){var r=hc.get(e);if(r)var o=r.get(null);else{r=new Map,hc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=cc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ol={$$typeof:ft,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function KA(e,n,r,o,h,f,g,E,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ei(0),this.hiddenUpdates=ei(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function s_(e,n,r,o,h,f,g,E,w,x,j,F){return e=new KA(e,n,r,g,w,x,j,F,E),n=1,f===!0&&(n|=24),f=dn(3,null,null,n),e.current=f,f.stateNode=e,n=Fh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Xh(f),e}function a_(e){return e?(e=ca,e):ca}function o_(e,n,r,o,h,f){h=a_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(ln(r,e,n),zo(r,e,n))}function l_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function md(e,n){l_(e,n),(e=e.alternate)&&l_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=vs(e,67108864);n!==null&&ln(n,e,67108864),md(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=_n();n=os(n);var r=vs(e,n);r!==null&&ln(r,e,n),md(e,n)}}var dc=!0;function YA(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,gd(e,n,r,o)}finally{W.p=f,H.T=h}}function XA(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,gd(e,n,r,o)}finally{W.p=f,H.T=h}}function gd(e,n,r,o){if(dc){var h=pd(o);if(h===null)ed(e,n,o,mc,r),f_(e,o);else if(JA(h,e,n,r,o))o.stopPropagation();else if(f_(e,o),n&4&&-1<ZA.indexOf(e)){for(;h!==null;){var f=Tn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Wn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var w=1<<31-ce(g);E.entanglements[1]|=w,g&=~w}_i(f),(qt&6)===0&&(Zu=$e()+500,el(0))}}break;case 31:case 13:E=vs(f,2),E!==null&&ln(E,f,2),$u(),md(f,2)}if(f=pd(o),f===null&&ed(e,n,o,mc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ed(e,n,o,null,r)}}function pd(e){return e=An(e),yd(e)}var mc=null;function yd(e){if(mc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(is()){case uo:return 2;case co:return 8;case ir:case Ah:return 32;case Ql:return 268435456;default:return 32}default:return 32}}var _d=!1,Nr=null,Or=null,Vr=null,ll=new Map,ul=new Map,Mr=[],ZA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(n.pointerId)}}function cl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Tn(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function JA(e,n,r,o,h){switch(n){case"focusin":return Nr=cl(Nr,e,n,r,o,h),!0;case"dragenter":return Or=cl(Or,e,n,r,o,h),!0;case"mouseover":return Vr=cl(Vr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return ll.set(f,cl(ll.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,ul.set(f,cl(ul.get(f)||null,e,n,r,o,h)),!0}return!1}function d_(e){var n=ri(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,xn(e.priority,function(){c_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,xn(e.priority,function(){c_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=pd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);So=o,r.target.dispatchEvent(o),So=null}else return n=Tn(r),n!==null&&u_(n),e.blockedOn=r,!1;n.shift()}return!0}function m_(e,n,r){gc(e)&&r.delete(n)}function $A(){_d=!1,Nr!==null&&gc(Nr)&&(Nr=null),Or!==null&&gc(Or)&&(Or=null),Vr!==null&&gc(Vr)&&(Vr=null),ll.forEach(m_),ul.forEach(m_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,_d||(_d=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,$A)))}var yc=null;function g_(e){yc!==e&&(yc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(yd(o||r)===null)continue;break}var f=Tn(r);f!==null&&(e.splice(n,3),n-=3,pf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ua(e){function n(w){return pc(w,e)}Nr!==null&&pc(Nr,e),Or!==null&&pc(Or,e),Vr!==null&&pc(Vr,e),ll.forEach(n),ul.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)d_(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Ve]||null;if(typeof f=="function")g||g_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(yd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),g_(r)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function vd(e){this._internalRoot=e}_c.prototype.render=vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=_n();o_(r,o,e,n,null,null)},_c.prototype.unmount=vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o_(e.current,2,null,e,null,null),$u(),n[ni]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=$l();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.3")throw Error(a(527,y_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var WA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Pn=vc.inject(WA),ke=vc}catch{}}return fl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=bp,f=Rp,g=wp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=s_(e,1,!1,null,null,r,o,null,h,f,g,p_),e[ni]=n.current,td(e),new vd(n)},fl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=bp,g=Rp,E=wp,w=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(w=r.formState)),n=s_(e,1,!0,n,r??null,o,h,w,f,g,E,p_),n.context=a_(null),r=n.current,o=_n(),o=os(o),h=_r(o),h.callback=null,vr(r,h,o),r=o,n.current.lanes=r,ss(n,r),_i(n),e[ni]=n.current,td(e),new _c(n)},fl.version="19.2.3",fl}var I_;function uS(){if(I_)return Ad.exports;I_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ad.exports=lS(),Ad.exports}var cS=uS();const hS=()=>{};var C_={};const nE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},fS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},iE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,_=l+2<s.length,v=_?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let L=(p&15)<<2|v>>6,K=v&63;_||(K=64,d||(L=64)),a.push(i[A],i[b],i[L],i[K])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(nE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):fS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||v==null||b==null)throw new dS;const L=c<<2|p>>4;if(a.push(L),v!==64){const K=p<<4&240|v>>2;if(a.push(K),b!==64){const $=v<<6&192|b;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mS=function(s){const t=nE(s);return iE.encodeByteArray(t,!0)},kc=function(s){return mS(s).replace(/\./g,"")},rE=function(s){try{return iE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pS=()=>gS().__FIREBASE_DEFAULTS__,yS=()=>{if(typeof process>"u"||typeof C_>"u")return;const s=C_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},_S=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&rE(s[1]);return t&&JSON.parse(t)},ih=()=>{try{return hS()||pS()||yS()||_S()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},sE=s=>ih()?.emulatorHosts?.[s],vS=s=>{const t=sE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},aE=()=>ih()?.config,oE=s=>ih()?.[`_${s}`];class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Wa(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lE(s){return(await fetch(s,{credentials:"include"})).ok}function TS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const _l={};function AS(){const s={prod:[],emulator:[]};for(const t of Object.keys(_l))_l[t]?s.emulator.push(t):s.prod.push(t);return s}function SS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let D_=!1;function uE(s,t){if(typeof window>"u"||typeof document>"u"||!Wa(window.location.host)||_l[s]===t||_l[s]||D_)return;_l[s]=t;function i(L){return`__firebase__banner__${L}`}const a="__firebase__banner",c=AS().prod.length>0;function d(){const L=document.getElementById(a);L&&L.remove()}function p(L){L.style.display="flex",L.style.background="#7faaf0",L.style.position="fixed",L.style.bottom="5px",L.style.left="5px",L.style.padding=".5em",L.style.borderRadius="5px",L.style.alignItems="center"}function _(L,K){L.setAttribute("width","24"),L.setAttribute("id",K),L.setAttribute("height","24"),L.setAttribute("viewBox","0 0 24 24"),L.setAttribute("fill","none"),L.style.marginLeft="-6px"}function v(){const L=document.createElement("span");return L.style.cursor="pointer",L.style.marginLeft="16px",L.style.fontSize="24px",L.innerHTML=" &times;",L.onclick=()=>{D_=!0,d()},L}function A(L,K){L.setAttribute("id",K),L.innerText="Learn more",L.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",L.setAttribute("target","__blank"),L.style.paddingLeft="5px",L.style.textDecoration="underline"}function b(){const L=SS(a),K=i("text"),$=document.getElementById(K)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),pt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(L.created){const ft=L.element;p(ft),A(Z,et);const Ct=v();_(pt,ct),ft.append(pt,$,Z,Ct),document.body.appendChild(ft)}c?($.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function RS(){const s=ih()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function CS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DS(){const s=Je();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function NS(){return!RS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OS(){try{return typeof indexedDB=="object"}catch{return!1}}function VS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const MS="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=MS,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?US(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function US(s,t){return s.replace(LS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const LS=/\{\$([^}]+)}/g;function PS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Us(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(N_(c)&&N_(d)){if(!Us(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function N_(s){return s!==null&&typeof s=="object"}function Ll(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function dl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ml(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function kS(s,t){const i=new xS(s,t);return i.subscribe.bind(i)}class xS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");zS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=wd),l.error===void 0&&(l.error=wd),l.complete===void 0&&(l.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function wd(){}function vn(s){return s&&s._delegate?s._delegate:s}class Ls{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Vs="[DEFAULT]";class BS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ES;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jS(t))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vs){return this.instances.has(t)}getOptions(t=Vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:qS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Vs){return this.component?this.component.multipleInstances?t:Vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qS(s){return s===Vs?void 0:s}function jS(s){return s.instantiationMode==="EAGER"}class HS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new BS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const GS={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},FS=Ot.INFO,QS={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},KS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=QS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class hm{constructor(t){this.name=t,this._logLevel=FS,this._logHandler=KS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const YS=(s,t)=>t.some(i=>s instanceof i);let O_,V_;function XS(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZS(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,xd=new WeakMap,hE=new WeakMap,Id=new WeakMap,fm=new WeakMap;function JS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&cE.set(i,s)}).catch(()=>{}),fm.set(t,s),t}function $S(s){if(xd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});xd.set(s,t)}let zd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return xd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||hE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function WS(s){zd=s(zd)}function t1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Cd(this),t,...i);return hE.set(a,t.sort?t.sort():[t]),qr(a)}:ZS().includes(s)?function(...t){return s.apply(Cd(this),t),qr(cE.get(this))}:function(...t){return qr(s.apply(Cd(this),t))}}function e1(s){return typeof s=="function"?t1(s):(s instanceof IDBTransaction&&$S(s),YS(s,XS())?new Proxy(s,zd):s)}function qr(s){if(s instanceof IDBRequest)return JS(s);if(Id.has(s))return Id.get(s);const t=e1(s);return t!==s&&(Id.set(s,t),fm.set(t,s)),t}const Cd=s=>fm.get(s);function n1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=qr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qr(d.result),_.oldVersion,_.newVersion,qr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const i1=["get","getKey","getAll","getAllKeys","count"],r1=["put","add","delete","clear"],Dd=new Map;function M_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Dd.get(t))return Dd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=r1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||i1.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),l&&_.done]))[0]};return Dd.set(t,c),c}WS(s=>({...s,get:(t,i,a)=>M_(t,i)||s.get(t,i,a),has:(t,i)=>!!M_(t,i)||s.has(t,i)}));class s1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(a1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function a1(s){return s.getComponent()?.type==="VERSION"}const Bd="@firebase/app",U_="0.14.6";const Ji=new hm("@firebase/app"),o1="@firebase/app-compat",l1="@firebase/analytics-compat",u1="@firebase/analytics",c1="@firebase/app-check-compat",h1="@firebase/app-check",f1="@firebase/auth",d1="@firebase/auth-compat",m1="@firebase/database",g1="@firebase/data-connect",p1="@firebase/database-compat",y1="@firebase/functions",_1="@firebase/functions-compat",v1="@firebase/installations",E1="@firebase/installations-compat",T1="@firebase/messaging",A1="@firebase/messaging-compat",S1="@firebase/performance",b1="@firebase/performance-compat",R1="@firebase/remote-config",w1="@firebase/remote-config-compat",I1="@firebase/storage",C1="@firebase/storage-compat",D1="@firebase/firestore",N1="@firebase/ai",O1="@firebase/firestore-compat",V1="firebase",M1="12.6.0";const qd="[DEFAULT]",U1={[Bd]:"fire-core",[o1]:"fire-core-compat",[u1]:"fire-analytics",[l1]:"fire-analytics-compat",[h1]:"fire-app-check",[c1]:"fire-app-check-compat",[f1]:"fire-auth",[d1]:"fire-auth-compat",[m1]:"fire-rtdb",[g1]:"fire-data-connect",[p1]:"fire-rtdb-compat",[y1]:"fire-fn",[_1]:"fire-fn-compat",[v1]:"fire-iid",[E1]:"fire-iid-compat",[T1]:"fire-fcm",[A1]:"fire-fcm-compat",[S1]:"fire-perf",[b1]:"fire-perf-compat",[R1]:"fire-rc",[w1]:"fire-rc-compat",[I1]:"fire-gcs",[C1]:"fire-gcs-compat",[D1]:"fire-fst",[O1]:"fire-fst-compat",[N1]:"fire-vertex","fire-js":"fire-js",[V1]:"fire-js-all"};const xc=new Map,L1=new Map,jd=new Map;function L_(s,t){try{s.container.addComponent(t)}catch(i){Ji.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Qa(s){const t=s.name;if(jd.has(t))return Ji.debug(`There were multiple attempts to register component ${t}.`),!1;jd.set(t,s);for(const i of xc.values())L_(i,s);for(const i of L1.values())L_(i,s);return!0}function dm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Mn(s){return s==null?!1:s.settings!==void 0}const P1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Ul("app","Firebase",P1);class k1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}const to=M1;function fE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:qd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=aE()),!i)throw jr.create("no-options");const c=xc.get(l);if(c){if(Us(i,c.options)&&Us(a,c.config))return c;throw jr.create("duplicate-app",{appName:l})}const d=new HS(l);for(const _ of jd.values())d.addComponent(_);const p=new k1(i,a,d);return xc.set(l,p),p}function dE(s=qd){const t=xc.get(s);if(!t&&s===qd&&aE())return fE();if(!t)throw jr.create("no-app",{appName:s});return t}function Hr(s,t,i){let a=U1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Qa(new Ls(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const x1="firebase-heartbeat-database",z1=1,bl="firebase-heartbeat-store";let Nd=null;function mE(){return Nd||(Nd=n1(x1,z1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(bl)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Nd}async function B1(s){try{const i=(await mE()).transaction(bl),a=await i.objectStore(bl).get(gE(s));return await i.done,a}catch(t){if(t instanceof er)Ji.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Ji.warn(i.message)}}}async function P_(s,t){try{const a=(await mE()).transaction(bl,"readwrite");await a.objectStore(bl).put(t,gE(s)),await a.done}catch(i){if(i instanceof er)Ji.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Ji.warn(a.message)}}}function gE(s){return`${s.name}!${s.options.appId}`}const q1=1024,j1=30;class H1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new F1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=k_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>j1){const l=Q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ji.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=k_(),{heartbeatsToSend:i,unsentEntries:a}=G1(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ji.warn(t),""}}}function k_(){return new Date().toISOString().substring(0,10)}function G1(s,t=q1){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),x_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),x_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class F1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OS()?VS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await B1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return P_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function x_(s){return kc(JSON.stringify({version:2,heartbeats:s})).length}function Q1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function K1(s){Qa(new Ls("platform-logger",t=>new s1(t),"PRIVATE")),Qa(new Ls("heartbeat",t=>new H1(t),"PRIVATE")),Hr(Bd,U_,s),Hr(Bd,U_,"esm2020"),Hr("fire-js","")}K1("");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gr,pE;(function(){var s;function t(D,S){function I(){}I.prototype=S.prototype,D.F=S.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,C,M){for(var R=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)R[$t-2]=arguments[$t];return S.prototype[C].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var C=0;C<16;++C)V[C]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(C=0;C<16;++C)V[C]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=D.g[0],I=D.g[1],C=D.g[2];let M=D.g[3],R;R=S+(M^I&(C^M))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(C^S&(I^C))+V[1]+3905402710&4294967295,M=S+(R<<12&4294967295|R>>>20),R=C+(I^M&(S^I))+V[2]+606105819&4294967295,C=M+(R<<17&4294967295|R>>>15),R=I+(S^C&(M^S))+V[3]+3250441966&4294967295,I=C+(R<<22&4294967295|R>>>10),R=S+(M^I&(C^M))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(C^S&(I^C))+V[5]+1200080426&4294967295,M=S+(R<<12&4294967295|R>>>20),R=C+(I^M&(S^I))+V[6]+2821735955&4294967295,C=M+(R<<17&4294967295|R>>>15),R=I+(S^C&(M^S))+V[7]+4249261313&4294967295,I=C+(R<<22&4294967295|R>>>10),R=S+(M^I&(C^M))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(C^S&(I^C))+V[9]+2336552879&4294967295,M=S+(R<<12&4294967295|R>>>20),R=C+(I^M&(S^I))+V[10]+4294925233&4294967295,C=M+(R<<17&4294967295|R>>>15),R=I+(S^C&(M^S))+V[11]+2304563134&4294967295,I=C+(R<<22&4294967295|R>>>10),R=S+(M^I&(C^M))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=M+(C^S&(I^C))+V[13]+4254626195&4294967295,M=S+(R<<12&4294967295|R>>>20),R=C+(I^M&(S^I))+V[14]+2792965006&4294967295,C=M+(R<<17&4294967295|R>>>15),R=I+(S^C&(M^S))+V[15]+1236535329&4294967295,I=C+(R<<22&4294967295|R>>>10),R=S+(C^M&(I^C))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^C&(S^I))+V[6]+3225465664&4294967295,M=S+(R<<9&4294967295|R>>>23),R=C+(S^I&(M^S))+V[11]+643717713&4294967295,C=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(C^M))+V[0]+3921069994&4294967295,I=C+(R<<20&4294967295|R>>>12),R=S+(C^M&(I^C))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^C&(S^I))+V[10]+38016083&4294967295,M=S+(R<<9&4294967295|R>>>23),R=C+(S^I&(M^S))+V[15]+3634488961&4294967295,C=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(C^M))+V[4]+3889429448&4294967295,I=C+(R<<20&4294967295|R>>>12),R=S+(C^M&(I^C))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^C&(S^I))+V[14]+3275163606&4294967295,M=S+(R<<9&4294967295|R>>>23),R=C+(S^I&(M^S))+V[3]+4107603335&4294967295,C=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(C^M))+V[8]+1163531501&4294967295,I=C+(R<<20&4294967295|R>>>12),R=S+(C^M&(I^C))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=M+(I^C&(S^I))+V[2]+4243563512&4294967295,M=S+(R<<9&4294967295|R>>>23),R=C+(S^I&(M^S))+V[7]+1735328473&4294967295,C=M+(R<<14&4294967295|R>>>18),R=I+(M^S&(C^M))+V[12]+2368359562&4294967295,I=C+(R<<20&4294967295|R>>>12),R=S+(I^C^M)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^C)+V[8]+2272392833&4294967295,M=S+(R<<11&4294967295|R>>>21),R=C+(M^S^I)+V[11]+1839030562&4294967295,C=M+(R<<16&4294967295|R>>>16),R=I+(C^M^S)+V[14]+4259657740&4294967295,I=C+(R<<23&4294967295|R>>>9),R=S+(I^C^M)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^C)+V[4]+1272893353&4294967295,M=S+(R<<11&4294967295|R>>>21),R=C+(M^S^I)+V[7]+4139469664&4294967295,C=M+(R<<16&4294967295|R>>>16),R=I+(C^M^S)+V[10]+3200236656&4294967295,I=C+(R<<23&4294967295|R>>>9),R=S+(I^C^M)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^C)+V[0]+3936430074&4294967295,M=S+(R<<11&4294967295|R>>>21),R=C+(M^S^I)+V[3]+3572445317&4294967295,C=M+(R<<16&4294967295|R>>>16),R=I+(C^M^S)+V[6]+76029189&4294967295,I=C+(R<<23&4294967295|R>>>9),R=S+(I^C^M)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=M+(S^I^C)+V[12]+3873151461&4294967295,M=S+(R<<11&4294967295|R>>>21),R=C+(M^S^I)+V[15]+530742520&4294967295,C=M+(R<<16&4294967295|R>>>16),R=I+(C^M^S)+V[2]+3299628645&4294967295,I=C+(R<<23&4294967295|R>>>9),R=S+(C^(I|~M))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~C))+V[7]+1126891415&4294967295,M=S+(R<<10&4294967295|R>>>22),R=C+(S^(M|~I))+V[14]+2878612391&4294967295,C=M+(R<<15&4294967295|R>>>17),R=I+(M^(C|~S))+V[5]+4237533241&4294967295,I=C+(R<<21&4294967295|R>>>11),R=S+(C^(I|~M))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~C))+V[3]+2399980690&4294967295,M=S+(R<<10&4294967295|R>>>22),R=C+(S^(M|~I))+V[10]+4293915773&4294967295,C=M+(R<<15&4294967295|R>>>17),R=I+(M^(C|~S))+V[1]+2240044497&4294967295,I=C+(R<<21&4294967295|R>>>11),R=S+(C^(I|~M))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~C))+V[15]+4264355552&4294967295,M=S+(R<<10&4294967295|R>>>22),R=C+(S^(M|~I))+V[6]+2734768916&4294967295,C=M+(R<<15&4294967295|R>>>17),R=I+(M^(C|~S))+V[13]+1309151649&4294967295,I=C+(R<<21&4294967295|R>>>11),R=S+(C^(I|~M))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=M+(I^(S|~C))+V[11]+3174756917&4294967295,M=S+(R<<10&4294967295|R>>>22),R=C+(S^(M|~I))+V[2]+718787259&4294967295,C=M+(R<<15&4294967295|R>>>17),R=I+(M^(C|~S))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+C&4294967295,D.g[3]=D.g[3]+M&4294967295}a.prototype.v=function(D,S){S===void 0&&(S=D.length);const I=S-this.blockSize,V=this.C;let C=this.h,M=0;for(;M<S;){if(C==0)for(;M<=I;)l(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<S;)if(V[C++]=D.charCodeAt(M++),C==this.blockSize){l(this,V),C=0;break}}else for(;M<S;)if(V[C++]=D[M++],C==this.blockSize){l(this,V),C=0;break}}this.h=C,this.o+=S},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[S++]=this.g[I]>>>V&255;return D};function c(D,S){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=S(D)}function d(D,S){this.h=S;const I=[];let V=!0;for(let C=D.length-1;C>=0;C--){const M=D[C]|0;V&&M==S||(I[C]=M,V=!1)}this.g=I}var p={};function _(D){return-128<=D&&D<128?c(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return Z(v(-D));const S=[];let I=1;for(let V=0;D>=I;V++)S[V]=D/I|0,I*=4294967296;return new d(S,0)}function A(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return Z(A(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let V=b;for(let M=0;M<D.length;M+=8){var C=Math.min(8,D.length-M);const R=parseInt(D.substring(M,M+C),S);C<8?(C=v(Math.pow(S,C)),V=V.j(C).add(v(R))):(V=V.j(I),V=V.add(v(R)))}return V}var b=_(0),L=_(1),K=_(16777216);s=d.prototype,s.m=function(){if(et(this))return-Z(this).m();let D=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*S,S*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if($(this))return"0";if(et(this))return"-"+Z(this).toString(D);const S=v(Math.pow(D,6));var I=this;let V="";for(;;){const C=Ct(I,S).g;I=ct(I,C.j(S));let M=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=C,$(I))return M+V;for(;M.length<6;)M="0"+M;V=M+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function $(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function et(D){return D.h==-1}s.l=function(D){return D=ct(this,D),et(D)?-1:$(D)?0:1};function Z(D){const S=D.g.length,I=[];for(let V=0;V<S;V++)I[V]=~D.g[V];return new d(I,~D.h).add(L)}s.abs=function(){return et(this)?Z(this):this},s.add=function(D){const S=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let C=0;C<=S;C++){let M=V+(this.i(C)&65535)+(D.i(C)&65535),R=(M>>>16)+(this.i(C)>>>16)+(D.i(C)>>>16);V=R>>>16,M&=65535,R&=65535,I[C]=R<<16|M}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ct(D,S){return D.add(Z(S))}s.j=function(D){if($(this)||$(D))return b;if(et(this))return et(D)?Z(this).j(Z(D)):Z(Z(this).j(D));if(et(D))return Z(this.j(Z(D)));if(this.l(K)<0&&D.l(K)<0)return v(this.m()*D.m());const S=this.g.length+D.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let C=0;C<D.g.length;C++){const M=this.i(V)>>>16,R=this.i(V)&65535,$t=D.i(C)>>>16,we=D.i(C)&65535;I[2*V+2*C]+=R*we,pt(I,2*V+2*C),I[2*V+2*C+1]+=M*we,pt(I,2*V+2*C+1),I[2*V+2*C+1]+=R*$t,pt(I,2*V+2*C+1),I[2*V+2*C+2]+=M*$t,pt(I,2*V+2*C+2)}for(D=0;D<S;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=S;D<2*S;D++)I[D]=0;return new d(I,0)};function pt(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function ft(D,S){this.g=D,this.h=S}function Ct(D,S){if($(S))throw Error("division by zero");if($(D))return new ft(b,b);if(et(D))return S=Ct(Z(D),S),new ft(Z(S.g),Z(S.h));if(et(S))return S=Ct(D,Z(S)),new ft(Z(S.g),S.h);if(D.g.length>30){if(et(D)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var I=L,V=S;V.l(D)<=0;)I=Kt(I),V=Kt(V);var C=Rt(I,1),M=Rt(V,1);for(V=Rt(V,2),I=Rt(I,2);!$(V);){var R=M.add(V);R.l(D)<=0&&(C=C.add(I),M=R),V=Rt(V,1),I=Rt(I,1)}return S=ct(D,C.j(S)),new ft(C,S)}for(C=b;D.l(S)>=0;){for(I=Math.max(1,Math.floor(D.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),M=v(I),R=M.j(S);et(R)||R.l(D)>0;)I-=V,M=v(I),R=M.j(S);$(M)&&(M=L),C=C.add(M),D=ct(D,R)}return new ft(C,D)}s.B=function(D){return Ct(this,D).h},s.and=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&D.i(V);return new d(I,this.h&D.h)},s.or=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|D.i(V);return new d(I,this.h|D.h)},s.xor=function(D){const S=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^D.i(V);return new d(I,this.h^D.h)};function Kt(D){const S=D.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(I,D.h)}function Rt(D,S){const I=S>>5;S%=32;const V=D.g.length-I,C=[];for(let M=0;M<V;M++)C[M]=S>0?D.i(M+I)>>>S|D.i(M+I+1)<<32-S:D.i(M+I);return new d(C,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,pE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Gr=d}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yE,gl,_E,Ic,Hd,vE,EE,TE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in y))break t;y=y[P]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function v(u,m,y){return v=_,v.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,P,B){for(var J=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)J[Et-2]=arguments[Et];return m.prototype[P].apply(T,J)}}var L=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var y=typeof P;if(y=y!="object"?y:P?Array.isArray(P)?"array":y:"null",y=="array"||y=="object"&&typeof P.length=="number"){y=u.length||0;const B=P.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=P[J]}else u.push(P)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,y){const T=ft.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new et(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,Rt=!1,D=new pt,S=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(I)}};function I(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){Z(y)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function C(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){C.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b($t,C),$t.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,y,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=P,this.key=++H,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ht(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function O(u){const m={};for(const y in u)m[y]=u[y];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(y in T)u[y]=T[y];for(let B=0;B<Q.length;B++)y=Q[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=At(u,m,T,P);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new W(m,this.src,B,!!T,P),m.fa=y,u.push(m)),m};function gt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],P=Array.prototype.indexOf.call(T,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(T,P,1),B&&(lt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function At(u,m,y,T){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return P}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,y,T,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,P);return null}return y=lo(y),u&&u[we]?u.J(m,y,p(T)?!!T.capture:!1,P):es(u,m,y,!1,T,P)}function es(u,m,y,T,P,B){if(!m)throw Error("Invalid event type");const J=p(P)?!!P.capture:!!P;let Et=ns(u);if(Et||(u[Lt]=Et=new it(u)),y=Et.add(m,y,T,J,B),y.proxy)return y;if(T=Fs(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)M||(P=J),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Jn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Fs(){function u(y){return m.call(u.src,u.listener,y)}const m=ao;return u}function Qs(u,m,y,T,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qs(u,m[B],y,T,P);else T=p(T)?!!T.capture:!!T,y=lo(y),u&&u[we]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=At(m,y,T,P),y>-1&&(lt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ns(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,y,T,P)),(y=u>-1?m[u]:null)&&Ks(y))}function Ks(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])gt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Jn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=ns(m))?(gt(y,u),y.h==0&&(y.src=null,m[Lt]=null)):lt(u)}}}function Jn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function ao(u,m){if(u.da)u=!0;else{m=new $t(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Ks(u),u=y.call(T,m)}return u}function ns(u){return u=u[Lt],u instanceof it?u:null}var oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function lo(u){return typeof u=="function"?u:(u[oo]||(u[oo]=function(m){return u.handleEvent(m)}),u[oo])}function ge(){V.call(this),this.i=new it(this),this.M=this,this.G=null}b(ge,V),ge.prototype[we]=!0,ge.prototype.removeEventListener=function(u,m,y,T){Qs(this,u,m,y,T)};function Ce(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new C(m,u);else if(m instanceof C)m.target=m.target||u;else{var P=m;m=new C(T,u),tt(m,P)}P=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],P=nr(B,T,!0,m)&&P;if(B=m.g=u,P=nr(B,T,!0,m)&&P,P=nr(B,T,!1,m)&&P,y)for(J=0;J<y.length;J++)B=m.g=y[J],P=nr(B,T,!1,m)&&P}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)lt(y[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},ge.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Et=J.listener,he=J.ha||J.src;J.fa&&gt(u.i,J),P=Et.call(he,T)!==!1&&P}}return P&&!T.defaultPrevented}function Th(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fl(u){u.g=Th(()=>{u.g=null,u.i&&(u.i=!1,Fl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends V{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){V.call(this),this.h=u,this.g={}}b(is,V);var uo=[];function co(u){kt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Ks(m)},u),u.g={}}is.prototype.N=function(){is.Z.N.call(this),co(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,Ah=d.JSON.parse,Ql=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Kl(){}function Yl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){C.call(this,"d")}b(ke,C);function En(){C.call(this,"c")}b(En,C);var ce={},Xl=null;function Ys(){return Xl=Xl||new ge}ce.Ia="serverreachability";function Zl(u){C.call(this,ce.Ia,u)}b(Zl,C);function $n(u){const m=Ys();Ce(m,new Zl(m))}ce.STAT_EVENT="statevent";function rs(u,m){C.call(this,ce.STAT_EVENT,u),this.stat=m}b(rs,C);function pe(u){const m=Ys();Ce(m,new rs(m,u))}ce.Ja="timingevent";function Wn(u,m){C.call(this,ce.Ja,u),this.size=m}b(Wn,C);function ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Sh(u,m,y,T,P,B){u.info(function(){if(u.g)if(B){var J="",Et=B.split("&");for(let Bt=0;Bt<Et.length;Bt++){var he=Et[Bt].split("=");if(he.length>1){const se=he[0];he=he[1];const bn=se.split("_");J=bn.length>=2&&bn[1]=="type"?J+(se+"="+he+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+y+`
`+J})}function Jl(u,m,y,T,P,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+y+`
`+B+" "+J})}function ei(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+bh(u,y)+(T?" "+T:"")})}function ss(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function bh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return ir(B)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ho={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fo;function os(){}b(os,Kl),os.prototype.g=function(){return new XMLHttpRequest},fo=new os;function Ci(u){return encodeURIComponent(String(u))}function $l(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new is(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zn}function zn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ni(u,m,y){u.M=1,u.A=ls(ve(m)),u.u=y,u.R=!0,Xs(u,null)}function Xs(u,m){u.F=Date.now(),ii(u),u.B=ve(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Ws(y.i,"t",T),u.C=0,y=u.j.L,u.h=new zn,u.g=du(u.j,y?m:null,!u.u),u.P>0&&(u.O=new $e(v(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(uo[0]=P.toString()),P=uo);for(let B=0;B<P.length;B++){const J=re(y,P[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$n(),Sh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&jn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const Et=jn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Et<3)&&(Et!=3||this.g&&(this.h.h||this.g.la()||xe(this.g)))){this.K||Et!=4||he==7||(he==8||Bt<=0?$n(3):$n(2)),ri(this);var m=this.g.ca();this.X=m;var y=Rh(this);if(this.o=m==200,Jl(this.i,this.v,this.B,this.l,this.S,Et,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,u);else{this.o=!1,this.m=3,pe(12),cn(this),Tn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=tu(this,y),se==Ve){Et==4&&(this.m=4,pe(14),u=!1),ei(this.i,this.l,null,"[Incomplete Response]");break}else if(se==ye){this.m=4,pe(15),ei(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else ei(this.i,this.l,se,null),si(this,se);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||y.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ei(this.i,this.l,y,"[Invalid Chunked Response]"),cn(this),Tn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Co(J),J.P=!0,pe(11))}}else ei(this.i,this.l,y,null),si(this,y);Et==4&&cn(this),this.o&&!this.K&&(Et==4?uu(this.j,this):(this.o=!1,ii(this)))}else Ni(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),cn(this),Tn(this)}}}catch{}};function Rh(u){if(!Wl(u))return u.g.la();const m=xe(u.g);if(m==="")return"";let y="";const T=m.length,P=jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return cn(u),Tn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(P&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Wl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?ye:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}xn.prototype.cancel=function(){this.K=!0,cn(this)};function ii(u){u.T=Date.now()+u.H,Zs(u,u.H)}function Zs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ti(v(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ss(this.i,this.B),this.M!=2&&($n(),pe(17)),cn(this),this.m=2,Tn(this)):Zs(this,this.T-u)};function Tn(u){u.j.I==0||u.K||uu(u.j,u)}function cn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,co(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function si(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||oi(y.h,u))){if(!u.L&&oi(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ra(y),hr(y);else break t;gs(y),pe(18)}}else y.xa=P[1],0<y.xa-y.K&&P[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ti(v(y.Va,y),6e3));ai(y.h)<=1&&y.ta&&(y.ta=void 0)}else di(y,11)}else if((u.L||y.g==u)&&ra(y),!R(m))for(P=y.Ba.g.parse(m),m=0;m<P.length;m++){let Bt=P[m];const se=Bt[0];if(!(se<=y.K))if(y.K=se,Bt=Bt[1],y.I==2)if(Bt[0]=="c"){y.M=Bt[1],y.ba=Bt[2];const bn=Bt[3];bn!=null&&(y.ka=bn,y.j.info("VER="+y.ka));const mi=Bt[4];mi!=null&&(y.za=mi,y.j.info("SVER="+y.za));const Hn=Bt[5];Hn!=null&&typeof Hn=="number"&&Hn>0&&(T=1.5*Hn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const Gn=u.g;if(Gn){const ps=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ps){var B=T.h;B.g||ps.indexOf("spdy")==-1&&ps.indexOf("quic")==-1&&ps.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(po(B,B.h),B.h=null))}if(T.G){const sa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;sa&&(T.wa=sa,Gt(T.J,T.G,sa))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=fu(T,T.L?T.ba:null,T.W),J.L){yo(T.h,J);var Et=J,he=T.O;he&&(Et.H=he),Et.D&&(ri(Et),ii(Et)),T.g=J}else ou(T);y.i.length>0&&fi(y)}else Bt[0]!="stop"&&Bt[0]!="close"||di(y,7);else y.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?di(y,7):wo(y):Bt[0]!="noop"&&y.l&&y.l.qa(Bt),y.A=0)}}$n(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function mo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ai(u){return u.h?1:u.g?u.g.size:0}function oi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function po(u,m){u.g?u.g.add(m):u.h=m}function yo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mo.prototype.cancel=function(){if(this.i=_o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _o(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return K(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let P,B=null;T>=0?(P=u[y].substring(0,T),B=u[y].substring(T+1)):P=u[y],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function hn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof hn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,vo(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,Me(this,m[1]||"",!0),this.o=li(m[2]||""),this.g=li(m[3]||"",!0),rr(this,m[4]),this.h=li(m[5]||"",!0),vo(this,m[6]||"",!0),this.m=li(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}hn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(us(m,$s,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(us(m,$s,!0),"@"),u.push(Ci(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(us(y,y.charAt(0)=="/"?Eo:nu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",us(y,iu)),u.join("")},hn.prototype.resolve=function(u){const m=ve(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)rr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let J=0;J<P.length;){const Et=P[J++];Et=="."?T&&J==P.length&&B.push(""):Et==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==P.length&&B.push("")):(B.push(Et),T=!0)}T=B.join("/")}else T=P}return y?m.h=T:y=u.i.toString()!=="",y?vo(m,su(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ve(u){return new hn(u)}function Me(u,m,y){u.j=y?li(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function vo(u,m,y){m instanceof ar?(u.i=m,ta(u.i,u.l)):(y||(m=us(m,sr)),u.i=new ar(m,u.l))}function Gt(u,m,y){u.i.set(m,y)}function ls(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function li(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function us(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,en),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var $s=/[#\/\?@]/g,nu=/[#\?:]/g,Eo=/[#\?]/g,sr=/[#\?@]/g,iu=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&Js(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ar.prototype,s.add=function(u,m){nn(this),this.i=null,u=or(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function ru(u,m){nn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function To(u,m){return nn(u),m=or(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(y,T){y.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ao(u,m){nn(u);let y=[];if(typeof m=="string")To(u,m)&&(y=y.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return nn(this),this.i=null,u=or(this,u),To(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function Ws(u,m,y){ru(u,m),y.length>0&&(u.i=null,u.g.set(or(u,m),K(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const P=Ci(y);y=Ao(this,y);for(let B=0;B<y.length;B++){let J=P;y[B]!==""&&(J+="="+Ci(y[B])),u.push(J)}}return this.i=u.join("&")};function su(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ta(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,T){const P=T.toLowerCase();T!=P&&(ru(this,T),Ws(this,P,y))},u)),u.j=m}function Bn(u,m){const y=new kn;if(d.Image){const T=new Image;T.onload=A(An,y,"TestLoadImage: loaded",!0,m,T),T.onerror=A(An,y,"TestLoadImage: error",!1,m,T),T.onabort=A(An,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(An,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function So(u,m){const y=new kn,T=new AbortController,P=setTimeout(()=>{T.abort(),An(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(P),B.ok?An(y,"TestPingServer: ok",!0,m):An(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(y,"TestPingServer: error",!1,m)})}function An(u,m,y,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(y)}catch{}}function lr(){this.g=new Ql}function ui(u){this.i=u.Sb||null,this.h=u.ab||!1}b(ui,Kl),ui.prototype.g=function(){return new cs(this.i,this.h)};function cs(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(cs,ge),s=cs.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):qn(this),this.readyState==3&&ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},s.Na=function(u){this.g&&(this.response=u,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Sn(u){let m="";return kt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function hs(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Sn(y),typeof u=="string"?y!=null&&Ci(y):Gt(u,m,y))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,ge);var ci=/^https?$/i,bo=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fo.g(),this.g.onreadystatechange=L(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){fs(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)y.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(bo,m,void 0)>=0)||T||P||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){fs(this,B)}};function fs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ro(u),Di(u)}function Ro(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ds(this):this.Xa())},s.Xa=function(){ds(this)};function ds(u){if(u.h&&typeof c<"u"){if(u.v&&jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(eu)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!ci.test(J?J.toLowerCase():"")}y=T}if(y)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=jn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ro(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ce(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ah(m)}};function xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(u){const m={};u=(u.g&&jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var y=$l(u[T]);const P=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[P]||[];m[P]=B,B.push(y)}Ht(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hi(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hi("baseRetryDelayMs",5e3,u),this.Za=hi("retryDelaySeedMs",1e4,u),this.Ta=hi("forwardChannelMaxRetries",2,u),this.va=hi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new mo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){pe(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),fi(this)};function wo(u){if(na(u),u.I==3){var m=u.V++,y=ve(u.J);if(Gt(y,"SID",u.M),Gt(y,"RID",m),Gt(y,"TYPE","terminate"),ms(u,y),m=new xn(u,u.j,m),m.M=2,m.A=ls(ve(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ii(m)}hu(u)}function hr(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function na(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function fi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||S(),Rt||(Kt(),Rt=!0),D.add(m,u),u.D=0}}function ia(u,m){return ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ti(v(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=au(this,P,m),y=ve(this.J),Gt(y,"RID",u),Gt(y,"CVER",22),this.G&&Gt(y,"X-HTTP-Session-Id",this.G),ms(this,y),B&&(this.R?m="headers="+Ci(Sn(B))+"&"+m:this.u&&hs(y,this.u,B)),po(this.h,P),this.Ra&&Gt(y,"TYPE","init"),this.S?(Gt(y,"$req",m),Gt(y,"SID","null"),P.U=!0,ni(P,y,null)):ni(P,y,m),this.I=2}}else this.I==3&&(u?Io(this,u):this.i.length==0||go(this.h)||Io(this))};function Io(u,m){var y;m?y=m.l:y=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",y),Gt(T,"AID",u.K),ms(u,T),u.u&&u.o&&hs(T,u.u,u.o),y=new xn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),po(u.h,y),ni(y,T,m)}function ms(u,m){u.H&&kt(u.H,function(y,T){Gt(m,T,y)}),u.l&&kt({},function(y,T){Gt(m,T,y)})}function au(u,m,y){y=Math.min(u.i.length,y);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var P=u.i;let Et=-1;for(;;){const he=["count="+y];Et==-1?y>0?(Et=P[0].g,he.push("ofs="+Et)):Et=0:he.push("ofs="+Et);let Bt=!0;for(let se=0;se<y;se++){var B=P[se].g;const bn=P[se].map;if(B-=Et,B<0)Et=Math.max(0,P[se].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var J=bn instanceof Map?bn:Object.entries(bn);for(const[mi,Hn]of J){let Gn=Hn;p(Hn)&&(Gn=ir(Hn)),he.push(B+mi+"="+encodeURIComponent(Gn))}}catch(mi){throw he.push(B+"type="+encodeURIComponent("_badmap")),mi}}catch{T&&T(bn)}}if(Bt){J=he.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||S(),Rt||(Kt(),Rt=!0),D.add(m,u),u.A=0}}function gs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ti(v(u.Da,u),cu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ti(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),hr(this),lu(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),ms(u,m),u.u&&u.o&&hs(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=ls(ve(m)),y.u=null,y.R=!0,Xs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,hr(this),gs(this),pe(19))};function ra(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var y=null;if(u.g==m){ra(u),Co(u),u.g=null;var T=2}else if(oi(u.h,m))y=m.G,yo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Ys(),Ce(T,new Wn(T,y)),fi(u)}else ou(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ia(u,m)||T==2&&gs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),P){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function cu(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var y=v(u.bb,u),T=u.Ua;const P=!T;T=new hn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),ls(T),P?Bn(T.toString(),y):So(T.toString(),y)}else pe(2);u.I=0,u.l&&u.l.pa(m),hu(u),na(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=_o(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,y){var T=y instanceof hn?ve(y):new hn(y);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new hn(null);T&&Me(B,T),m&&(B.g=m),P&&rr(B,P),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Gt(T,y,m),Gt(T,"VER",u.ka),ms(u,T),T}function du(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ui({ab:y})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}s=mu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Oi(this)}b(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){wo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ir(u),u=y);m.i.push(new _e(m.Ya++,u)),m.I==3&&fi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,We.Z.N.call(this)};function gu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(gu,ke);function pu(){En.call(this),this.status=1}b(pu,En);function Oi(u){this.g=u}b(Oi,mu),Oi.prototype.ra=function(){Ce(this.g,"a")},Oi.prototype.qa=function(u){Ce(this.g,new gu(u))},Oi.prototype.pa=function(u){Ce(this.g,new pu)},Oi.prototype.oa=function(){Ce(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,TE=function(){return new fr},EE=function(){return Ys()},vE=ce,Hd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Ic=as,ho.COMPLETE="complete",_E=ho,Yl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ge.prototype.listen=ge.prototype.J,gl=Yl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,yE=Yt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const B_="@firebase/firestore",q_="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let eo="12.7.0";const Ps=new hm("@firebase/firestore");function La(){return Ps.logLevel}function nt(s,...t){if(Ps.logLevel<=Ot.DEBUG){const i=t.map(mm);Ps.debug(`Firestore (${eo}): ${s}`,...i)}}function $i(s,...t){if(Ps.logLevel<=Ot.ERROR){const i=t.map(mm);Ps.error(`Firestore (${eo}): ${s}`,...i)}}function Ka(s,...t){if(Ps.logLevel<=Ot.WARN){const i=t.map(mm);Ps.warn(`Firestore (${eo}): ${s}`,...i)}}function mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function mt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,AE(s,a,i)}function AE(s,t,i){let a=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw $i(a),new Error(a)}function jt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||AE(t,l,a)}function vt(s,t){return s}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class SE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class X1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Z1{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class J1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new J1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class j_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=c=>{c.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new j_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new j_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tb(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function Gd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Od(l)===Od(c)?Vt(l,c):Od(l)?1:-1}return Vt(s.length,t.length)}const eb=55296,nb=57343;function Od(s){const t=s.charCodeAt(0);return t>=eb&&t<=nb}function Ya(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const H_="__name__";class vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&mt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&mt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=vi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=vi.isNumericId(t),l=vi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?vi.extractNumericId(t).compare(vi.extractNumericId(i)):Gd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gr.fromString(t.substring(4,t.length-2))}}class ne extends vi{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const ib=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends vi{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return ib.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new Ge([H_])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class ut{constructor(t){this.path=t}static fromPath(t){return new ut(ne.fromString(t))}static fromName(t){return new ut(ne.fromString(t).popFirst(5))}static empty(){return new ut(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new ne(t.slice()))}}function bE(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function rb(s,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function G_(s){if(!ut.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function F_(s){if(ut.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function RE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function pm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":mt(12329,{type:typeof s})}function zc(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pm(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Pl(s,t){if(!RE(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}const Q_=-62135596800,K_=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*K_);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Q_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K_}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Q_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new ie(0,0))}static max(){return new yt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Rl=-1;function sb(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Kr(l,ut.empty(),t)}function ab(s){return new Kr(s.readTime,s.key,Rl)}class Kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Kr(yt.min(),ut.empty(),Rl)}static max(){return new Kr(yt.max(),ut.empty(),Rl)}}function ob(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}const lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ub{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==lb)throw s;nt("LocalStore","Unexpectedly lost primary lease")}class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,a)=>{i(t)}))}static reject(t){return new Y(((i,a)=>{a(t)}))}static waitFor(t){return new Y(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const a of t)i=i.next((l=>l?Y.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new Y(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const v=_;i(t[v]).next((A=>{d[v]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Y(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function cb(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function io(s){return s.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const ym=-1;function sh(s){return s==null}function Bc(s){return s===0&&1/s==-1/0}function hb(s){return typeof s=="number"&&Number.isInteger(s)&&!Bc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const wE="";function fb(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Y_(t)),t=db(s.get(i),t);return Y_(t)}function db(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case wE:i+="";break;default:i+=c}}return i}function Y_(s){return s+wE+""}function X_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Bs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function IE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw mt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw mt(57766)}get value(){throw mt(16141)}get color(){throw mt(16727)}get left(){throw mt(29726)}get right(){throw mt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(t){return new Z_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Oe(this.comparator);return i.data=t,i}}class Z_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Oe(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ya(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const mb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(s){if(jt(!!s,39018),typeof s=="string"){let t=0;const i=mb.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:me(s.seconds),nanos:me(s.nanos)}}function me(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Xr(s){return typeof s=="string"?Qe.fromBase64String(s):Qe.fromUint8Array(s)}const DE="server_timestamp",NE="__type__",OE="__previous_value__",VE="__local_write_time__";function _m(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===DE}function ah(s){const t=s.mapValue.fields[OE];return _m(t)?ah(t):t}function wl(s){const t=Yr(s.mapValue.fields[VE].timestampValue);return new ie(t.seconds,t.nanos)}class gb{constructor(t,i,a,l,c,d,p,_,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=A}}const qc="(default)";class Il{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}const ME="__type__",pb="__max__",Ac={mapValue:{}},UE="__vector__",jc="value";function Zr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?_m(s)?4:_b(s)?9007199254740991:yb(s)?10:11:mt(28295,{value:s})}function wi(s,t){if(s===t)return!0;const i=Zr(s);if(i!==Zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return wl(s).isEqual(wl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Yr(l.timestampValue),p=Yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Xr(l.bytesValue).isEqual(Xr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ya(s.arrayValue.values||[],t.arrayValue.values||[],wi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(X_(d)!==X_(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!wi(d[_],p[_])))return!1;return!0})(s,t);default:return mt(52216,{left:s})}}function Cl(s,t){return(s.values||[]).find((i=>wi(i,t)))!==void 0}function Xa(s,t){if(s===t)return 0;const i=Zr(s),a=Zr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return J_(s.timestampValue,t.timestampValue);case 4:return J_(wl(s),wl(t));case 5:return Gd(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Xr(c),_=Xr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let v=0;v<p.length&&v<_.length;v++){const A=Vt(p[v],_[v]);if(A!==0)return A}return Vt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Vt(me(c.latitude),me(d.latitude));return p!==0?p:Vt(me(c.longitude),me(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return $_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},v=p[jc]?.arrayValue,A=_[jc]?.arrayValue,b=Vt(v?.values?.length||0,A?.values?.length||0);return b!==0?b:$_(v,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const L=Gd(_[b],A[b]);if(L!==0)return L;const K=Xa(p[_[b]],v[A[b]]);if(K!==0)return K}return Vt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw mt(23264,{he:i})}}function J_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Yr(s),a=Yr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function $_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Xa(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function Za(s){return Fd(s)}function Fd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Yr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Xr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Fd(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Fd(i.fields[d])}`;return l+"}"})(s.mapValue):mt(61005,{value:s})}function Cc(s){switch(Zr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(s);return t?16+Cc(t):16;case 5:return 2*s.stringValue.length;case 6:return Xr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Cc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Bs(a.fields,((c,d)=>{l+=c.length+Cc(d)})),l})(s.mapValue);default:throw mt(13486,{value:s})}}function Qd(s){return!!s&&"integerValue"in s}function vm(s){return!!s&&"arrayValue"in s}function W_(s){return!!s&&"nullValue"in s}function tv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function yb(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===UE}function vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Bs(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=vl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vl(s.arrayValue.values[i]);return t}return{...s}}function _b(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pb}class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=vl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return wi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Bs(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new Un(vl(this.value))}}function LE(s){const t=[];return Bs(s.fields,((i,a)=>{const l=new Ge([i]);if(Dc(a)){const c=LE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Yn(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,yt.min(),yt.min(),yt.min(),Un.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,yt.min(),yt.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,yt.min(),yt.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function ev(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=Xa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function nv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!wi(s.position[i],t.position[i]))return!1;return!0}class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function vb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class PE{}class Ne extends PE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Tb(t,i,a):i==="array-contains"?new bb(t,a):i==="in"?new Rb(t,a):i==="not-in"?new wb(t,a):i==="array-contains-any"?new Ib(t,a):new Ne(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Ab(t,a):new Sb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Xa(i,this.value)):i!==null&&Zr(this.value)===Zr(i)&&this.matchesComparison(Xa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends PE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return kE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kE(s){return s.op==="and"}function xE(s){return Eb(s)&&kE(s)}function Eb(s){for(const t of s.filters)if(t instanceof Ii)return!1;return!0}function Kd(s){if(s instanceof Ne)return s.field.canonicalString()+s.op.toString()+Za(s.value);if(xE(s))return s.filters.map((t=>Kd(t))).join(",");{const t=s.filters.map((i=>Kd(i))).join(",");return`${s.op}(${t})`}}function zE(s,t){return s instanceof Ne?(function(a,l){return l instanceof Ne&&a.op===l.op&&a.field.isEqual(l.field)&&wi(a.value,l.value)})(s,t):s instanceof Ii?(function(a,l){return l instanceof Ii&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&zE(d,l.filters[p])),!0):!1})(s,t):void mt(19439)}function BE(s){return s instanceof Ne?(function(i){return`${i.field.canonicalString()} ${i.op} ${Za(i.value)}`})(s):s instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(BE).join(" ,")+"}"})(s):"Filter"}class Tb extends Ne{constructor(t,i,a){super(t,i,a),this.key=ut.fromName(a.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class Ab extends Ne{constructor(t,i){super(t,"in",i),this.keys=qE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Sb extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=qE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function qE(s,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class bb extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return vm(i)&&Cl(i.arrayValue,this.value)}}class Rb extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Cl(this.value.arrayValue,i)}}class wb extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Cl(this.value.arrayValue,i)}}class Ib extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Cl(this.value.arrayValue,a)))}}class Cb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function iv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new Cb(s,t,i,a,l,c,d)}function Em(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Kd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Za(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Za(a))).join(",")),t.Te=i}return t.Te}function Tm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!zE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!nv(s.startAt,t.startAt)&&nv(s.endAt,t.endAt)}function Yd(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class oh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Db(s,t,i,a,l,c,d,p){return new oh(s,t,i,a,l,c,d,p)}function jE(s){return new oh(s)}function rv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Nb(s){return s.collectionGroup!==null}function El(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Oe(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Gc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Gc(Ge.keyField(),a))}return t.Ie}function Ei(s){const t=vt(s);return t.Ee||(t.Ee=Ob(t,El(s))),t.Ee}function Ob(s,t){if(s.limitType==="F")return iv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gc(l.field,c)}));const i=s.endAt?new Hc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Hc(s.startAt.position,s.startAt.inclusive):null;return iv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Xd(s,t,i){return new oh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function lh(s,t){return Tm(Ei(s),Ei(t))&&s.limitType===t.limitType}function HE(s){return`${Em(Ei(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>BE(l))).join(", ")}]`),sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Za(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Za(l))).join(",")),`Target(${a})`})(Ei(s))}; limitType=${s.limitType})`}function uh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ut.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of El(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const v=ev(d,p,_);return d.inclusive?v<=0:v<0})(a.startAt,El(a),l)||a.endAt&&!(function(d,p,_){const v=ev(d,p,_);return d.inclusive?v>=0:v>0})(a.endAt,El(a),l))})(s,t)}function Vb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function GE(s){return(t,i)=>{let a=!1;for(const l of El(s)){const c=Mb(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Mb(s,t,i){const a=s.field.isKeyField()?ut.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),v=p.data.field(c);return _!==null&&v!==null?Xa(_,v):mt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return mt(19790,{direction:s.dir})}}class qs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return IE(this.inner)}size(){return this.innerSize}}const Ub=new oe(ut.comparator);function Wi(){return Ub}const FE=new oe(ut.comparator);function pl(...s){let t=FE;for(const i of s)t=t.insert(i.key,i);return t}function QE(s){let t=FE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ms(){return Tl()}function KE(){return Tl()}function Tl(){return new qs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Lb=new oe(ut.comparator),Pb=new Oe(ut.comparator);function Mt(...s){let t=Pb;for(const i of s)t=t.add(i);return t}const kb=new Oe(Vt);function xb(){return kb}function Am(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function YE(s){return{integerValue:""+s}}function zb(s,t){return hb(t)?YE(t):Am(s,t)}class ch{constructor(){this._=void 0}}function Bb(s,t,i){return s instanceof Dl?(function(l,c){const d={fields:{[NE]:{stringValue:DE},[VE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_m(c)&&(c=ah(c)),c&&(d.fields[OE]=c),{mapValue:d}})(i,t):s instanceof Nl?ZE(s,t):s instanceof Ol?JE(s,t):(function(l,c){const d=XE(l,c),p=sv(d)+sv(l.Ae);return Qd(d)&&Qd(l.Ae)?YE(p):Am(l.serializer,p)})(s,t)}function qb(s,t,i){return s instanceof Nl?ZE(s,t):s instanceof Ol?JE(s,t):i}function XE(s,t){return s instanceof Fc?(function(a){return Qd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Dl extends ch{}class Nl extends ch{constructor(t){super(),this.elements=t}}function ZE(s,t){const i=$E(t);for(const a of s.elements)i.some((l=>wi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ol extends ch{constructor(t){super(),this.elements=t}}function JE(s,t){let i=$E(t);for(const a of s.elements)i=i.filter((l=>!wi(l,a)));return{arrayValue:{values:i}}}class Fc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function sv(s){return me(s.integerValue||s.doubleValue)}function $E(s){return vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jb{constructor(t,i){this.field=t,this.transform=i}}function Hb(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Nl&&l instanceof Nl||a instanceof Ol&&l instanceof Ol?Ya(a.elements,l.elements,wi):a instanceof Fc&&l instanceof Fc?wi(a.Ae,l.Ae):a instanceof Dl&&l instanceof Dl})(s.transform,t.transform)}class Gb{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class hh{}function WE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new eT(s.key,Xi.none()):new kl(s.key,s.data,Xi.none());{const i=s.data,a=Un.empty();let l=new Oe(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new js(s.key,a,new Yn(l.toArray()),Xi.none())}}function Fb(s,t,i){s instanceof kl?(function(l,c,d){const p=l.value.clone(),_=ov(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof js?(function(l,c,d){if(!Nc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=ov(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(tT(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Al(s,t,i,a){return s instanceof kl?(function(c,d,p,_){if(!Nc(c.precondition,d))return p;const v=c.value.clone(),A=lv(c.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(s,t,i,a):s instanceof js?(function(c,d,p,_){if(!Nc(c.precondition,d))return p;const v=lv(c.fieldTransforms,_,d),A=d.data;return A.setAll(tT(c)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,a):(function(c,d,p){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function Qb(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=XE(a.transform,l||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function av(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ya(a,l,((c,d)=>Hb(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class kl extends hh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class js extends hh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function tT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function ov(s,t,i){const a=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,qb(d,p,i[l]))}return a}function lv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Bb(c,d,t))}return a}class eT extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kb extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yb{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Fb(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Al(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=KE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=WE(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ya(this.mutations,t.mutations,((i,a)=>av(i,a)))&&Ya(this.baseMutations,t.baseMutations,((i,a)=>av(i,a)))}}class Sm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Lb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Sm(t,i,a,l)}}class Xb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Zb{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Pt;function Jb(s){switch(s){case X.OK:return mt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return mt(15467,{code:s})}}function nT(s){if(s===void 0)return $i("GRPC error has no .code"),X.UNKNOWN;switch(s){case be.OK:return X.OK;case be.CANCELLED:return X.CANCELLED;case be.UNKNOWN:return X.UNKNOWN;case be.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case be.INTERNAL:return X.INTERNAL;case be.UNAVAILABLE:return X.UNAVAILABLE;case be.UNAUTHENTICATED:return X.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case be.NOT_FOUND:return X.NOT_FOUND;case be.ALREADY_EXISTS:return X.ALREADY_EXISTS;case be.PERMISSION_DENIED:return X.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case be.ABORTED:return X.ABORTED;case be.OUT_OF_RANGE:return X.OUT_OF_RANGE;case be.UNIMPLEMENTED:return X.UNIMPLEMENTED;case be.DATA_LOSS:return X.DATA_LOSS;default:return mt(39323,{code:s})}}(Pt=be||(be={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function $b(){return new TextEncoder}const Wb=new Gr([4294967295,4294967295],0);function uv(s){const t=$b().encode(s),i=new pE;return i.update(t),new Uint8Array(i.digest())}function cv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gr([i,a],0),new Gr([l,c],0)]}class bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gr.fromNumber(a)));return l.compare(Wb)===1&&(l=new Gr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=uv(t),[a,l]=cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=uv(t),[a,l]=cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,xl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(yt.min(),l,new oe(Vt),Wi(),Mt())}}class xl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new xl(a,i,Mt(),Mt(),Mt())}}class Oc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class iT{constructor(t,i){this.targetId=t,this.Ce=i}}class rT{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class hv{constructor(){this.ve=0,this.Fe=fv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:mt(38017,{changeType:c})}})),new xl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=fv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Wi(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:mt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Yd(c))if(a===0){const d=new ut(c.path);this.et(i,d,Ze.newNoDocument(d,yt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Xr(a).toUint8Array()}catch(_){if(_ instanceof CE)return Ka("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new bm(d,l,c)}catch(_){return Ka(_ instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Yd(p.target)){const _=new ut(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new fh(t,i,this.Ye,this.je,a);return this.je=Wi(),this.Je=Sc(),this.He=Sc(),this.Ye=new oe(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new hv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Oe(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Oe(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new oe(ut.comparator)}function fv(){return new oe(ut.comparator)}const eR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class rR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Zd(s,t){return s.useProto3Json||sh(t)?t:{value:t}}function Qc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function sR(s,t){return Qc(s,t.toTimestamp())}function Ti(s){return jt(!!s,49232),yt.fromTimestamp((function(i){const a=Yr(i);return new ie(a.seconds,a.nanos)})(s))}function Rm(s,t){return Jd(s,t).canonicalString()}function Jd(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function aT(s){const t=ne.fromString(s);return jt(hT(t),10190,{key:t.toString()}),t}function $d(s,t){return Rm(s.databaseId,t.path)}function Vd(s,t){const i=aT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(lT(i))}function oT(s,t){return Rm(s.databaseId,t)}function aR(s){const t=aT(s);return t.length===4?ne.emptyPath():lT(t)}function Wd(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function lT(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function dv(s,t,i){return{name:$d(s,t),fields:i.value.mapValue.fields}}function oR(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:mt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const A=v.code===void 0?X.UNKNOWN:nT(v.code);return new at(A,v.message||"")})(d);i=new rT(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vd(s,a.document.name),c=Ti(a.document.updateTime),d=a.document.createTime?Ti(a.document.createTime):yt.min(),p=new Un({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Oc(v,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Vd(s,a.document),c=a.readTime?Ti(a.readTime):yt.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Oc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Vd(s,a.document),c=a.removedTargetIds||[];i=new Oc([],c,l,null)}else{if(!("filter"in t))return mt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Zb(l,c),p=a.targetId;i=new iT(p,d)}}return i}function lR(s,t){let i;if(t instanceof kl)i={update:dv(s,t.key,t.value)};else if(t instanceof eT)i={delete:$d(s,t.key)};else if(t instanceof js)i={update:dv(s,t.key,t.data),updateMask:yR(t.fieldMask)};else{if(!(t instanceof Kb))return mt(16599,{Vt:t.type});i={verify:$d(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Dl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw mt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:sR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:mt(27497)})(s,t.precondition)),i}function uR(s,t){return s&&s.length>0?(jt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ti(l.updateTime):Ti(c);return d.isEqual(yt.min())&&(d=Ti(c)),new Gb(d,l.transformResults||[])})(i,t)))):[]}function cR(s,t){return{documents:[oT(s,t.path)]}}function hR(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=oT(s,l);const c=(function(v){if(v.length!==0)return cT(Ii.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((A=>(function(L){return{field:ka(L.field),direction:mR(L.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Zd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:l}}function fR(s){let t=aR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const L=uT(b);return L instanceof Ii&&xE(L)?L.getFilters():[L]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((L=>(function($){return new Gc(xa($.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(L)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let L;return L=typeof b=="object"?b.value:b,sh(L)?null:L})(i.limit));let _=null;i.startAt&&(_=(function(b){const L=!!b.before,K=b.values||[];return new Hc(K,L)})(i.startAt));let v=null;return i.endAt&&(v=(function(b){const L=!b.before,K=b.values||[];return new Hc(K,L)})(i.endAt)),Db(t,l,d,c,p,"F",_,v)}function dR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function uT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=xa(i.unaryFilter.field);return Ne.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=xa(i.unaryFilter.field);return Ne.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xa(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xa(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mt(61313);default:return mt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ne.create(xa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mt(58110);default:return mt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((a=>uT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return mt(1026)}})(i.compositeFilter.op))})(s):mt(30097,{filter:s})}function mR(s){return eR[s]}function gR(s){return nR[s]}function pR(s){return iR[s]}function ka(s){return{fieldPath:s.canonicalString()}}function xa(s){return Ge.fromServerFormat(s.fieldPath)}function cT(s){return s instanceof Ne?(function(i){if(i.op==="=="){if(tv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(W_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(tv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(W_(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:gR(i.op),value:i.value}}})(s):s instanceof Ii?(function(i){const a=i.getFilters().map((l=>cT(l)));return a.length===1?a[0]:{compositeFilter:{op:pR(i.op),filters:a}}})(s):mt(54877,{filter:s})}function yR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function hT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Br{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Br(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _R{constructor(t){this.yt=t}}function vR(s){const t=fR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xd(t,t.limit,"L"):t}class ER{constructor(){this.Cn=new TR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Kr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Kr.min())}updateCollectionGroup(t,i,a){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class TR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Oe(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Oe(ne.comparator)).toArray()}}const mv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(fT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Ja{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}const gv="LruGarbageCollector",AR=1048576;function pv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class SR{constructor(t){this.Ir=t,this.buffer=new Oe(pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){io(i)?nt(gv,"Ignoring IndexedDB error during garbage collection: ",i):await no(i)}await this.Vr(3e5)}))}}class RR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(rh.ce);const a=new SR(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(mv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(v=Date.now(),La()<=Ot.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function wR(s,t){return new RR(s,t)}class IR{constructor(){this.changes=new qs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class CR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class DR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Al(a.mutation,l,Yn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ms();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=pl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ms();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=Wi();const d=Tl(),p=(function(){return Tl()})();return i.forEach(((_,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof js)?c=c.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Al(A.mutation,v,A.mutation.getFieldMask(),ie.now())):d.set(v.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((v,A)=>d.set(v,A))),i.forEach(((v,A)=>p.set(v,new CR(A,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Tl();let l=new oe(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||Yn.empty();A=p.applyToLocalView(v,A),a.set(_,A);const b=(l.get(p.batchId)||Mt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),v=_.key,A=_.value,b=KE();A.forEach((L=>{if(!c.has(L)){const K=WE(i.get(L),a.get(L));K!==null&&b.set(L,K),c=c.add(L)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,b))}return Y.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Nb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):Y.resolve(Ms());let p=Rl,_=c;return d.next((v=>Y.forEach(v,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(t,A).next((L=>{_=_.insert(A,L)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,_,v,Mt()))).next((A=>({batchId:p,changes:QE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((p=>Y.forEach(p,(_=>{const v=(function(b,L){return new oh(L,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next((A=>{A.forEach(((b,L)=>{d=d.insert(b,L)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=pl();return d.forEach(((_,v)=>{const A=c.get(_);A!==void 0&&Al(A.mutation,v,Yn.empty(),ie.now()),uh(i,v)&&(p=p.insert(_,v))})),p}))}}class NR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ti(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vR(l.bundledQuery),readTime:Ti(l.readTime)}})(i)),Y.resolve()}}class OR{constructor(){this.overlays=new oe(ut.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ms();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Y.resolve()}getOverlaysForCollection(t,i,a){const l=Ms(),c=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((v,A)=>v-A));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=c.get(v.largestBatchId);A===null&&(A=Ms(),c=c.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const p=Ms(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,A)=>p.set(v,A))),!(p.size()>=l)););return Y.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Xb(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class VR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}class wm{constructor(){this.Qr=new Oe(Pe.$r),this.Ur=new Oe(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ut(new ne([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new ne([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}class MR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Oe(Pe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Yb(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?ym:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Oe(Vt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Y.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;ut.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new ut(c),0);let p=new Oe(Vt);return this.Zr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(p=p.add(_.Yr)),!0)}),d),Y.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UR{constructor(t){this.ri=t,this.docs=(function(){return new oe(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=Wi();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),Y.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=Wi();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||ob(ab(A),a)<=0||(l.has(A.key)||uh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,a,l){mt(9500)}ii(t,i){return Y.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new LR(this)}getSize(t){return Y.resolve(this.size)}}class LR extends IR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class PR{constructor(t){this.persistence=t,this.si=new qs((i=>Em(i)),Tm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new wm,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ja(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Y.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Y.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Y.resolve(a)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}class dT{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new VR,this.referenceDelegate=t(this),this.Pi=new PR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(l){return new UR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new _R(i),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new OR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new MR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new kR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class kR extends ub{constructor(t){super(),this.currentSequenceNumber=t}}class Im{constructor(t){this.persistence=t,this.Ri=new wm,this.Vi=null}static mi(t){return new Im(t)}get fi(){if(this.Vi)return this.Vi;throw mt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Y.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(a=>{const l=ut.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.pi=new qs((a=>fb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=wR(this,i)}static mi(t,i){return new Kc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,a){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Cm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Cm(t,i.fromCache,a,l)}}class xR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class zR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NS()?8:cb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new xR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(La()<=Ot.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(La()<=Ot.DEBUG&&nt("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(La()<=Ot.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(i))):Y.resolve())}ys(t,i){if(rv(i))return Y.resolve(null);let a=Ei(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Xd(i,null,"F"),a=Ei(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const v=this.Ds(i,p);return this.Cs(i,v,d,_.readTime)?this.ys(t,Xd(i,null,"F")):this.vs(t,v,i,_)}))))})))))}ws(t,i,a,l){return rv(i)||l.isEqual(yt.min())?Y.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Y.resolve(null):(La()<=Ot.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,sb(l,Rl)).next((p=>p)))}))}Ds(t,i){let a=new Oe(GE(t));return i.forEach(((l,c)=>{uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return La()<=Ot.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Dm="LocalStore",BR=3e8;class qR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Vt),this.xs=new qs((c=>Em(c)),Tm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function jR(s,t,i,a){return new qR(s,t,i,a)}async function mT(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Mt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of c){p.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function HR(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,v,A){const b=v.batch,L=b.keys();let K=Y.resolve();return L.forEach(($=>{K=K.next((()=>A.getEntry(_,$))).next((et=>{const Z=v.docVersions.get($);jt(Z!==null,48541),et.version.compareTo(Z)<0&&(b.applyToRemoteDocument(et,v),et.isValidDocument()&&(et.setReadTime(v.commitVersion),A.addEntry(et)))}))})),K.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Mt();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(_=_.add(p.batch.mutations[v].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function gT(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function GR(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const L=l.get(b);if(!L)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let K=L.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?K=K.withResumeToken(Qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,a)),l=l.insert(b,K),(function(et,Z,ct){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=BR?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(L,K,A)&&p.push(i.Pi.updateTargetData(c,K))}));let _=Wi(),v=Mt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(FR(c,d,t.documentUpdates).next((A=>{_=A.ks,v=A.qs}))),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Y.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function FR(s,t,i){let a=Mt(),l=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=Wi();return i.forEach(((p,_)=>{const v=c.get(p);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(yt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):nt(Dm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function QR(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function KR(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Br(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function tm(s,t,i){const a=vt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!io(d))throw d;nt(Dm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function yv(s,t,i){const a=vt(s);let l=yt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,v,A){const b=vt(_),L=b.xs.get(A);return L!==void 0?Y.resolve(b.Ms.get(L)):b.Pi.getTargetData(v,A)})(a,d,Ei(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Mt()))).next((p=>(YR(a,Vb(t),p),{documents:p,Qs:c})))))}function YR(s,t,i){let a=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class _v{constructor(){this.activeTargetIds=xb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XR{constructor(){this.Mo=new _v,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _v,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ZR{Oo(t){}shutdown(){}}const vv="ConnectivityMonitor";class Ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(vv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(vv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bc=null;function em(){return bc===null?bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():bc++,"0x"+bc.toString(16)}const Md="RestConnection",JR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=em(),p=this.zo(t,i.toUriEncodedString());nt(Md,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:v}=new URL(p),A=Wa(v);return this.Jo(t,p,_,a,A).then((b=>(nt(Md,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ka(Md,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=JR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class WR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class tw extends $R{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=em();return new Promise(((p,_)=>{const v=new yE;v.setWithCredentials(!0),v.listenOnce(_E.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Ic.NO_ERROR:const b=v.getResponseJson();nt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Ic.TIMEOUT:nt(Ye,`RPC '${t}' ${d} timed out`),_(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const L=v.getStatus();if(nt(Ye,`RPC '${t}' ${d} failed with status:`,L,"response text:",v.getResponseText()),L>0){let K=v.getResponseJson();Array.isArray(K)&&(K=K[0]);const $=K?.error;if($&&$.status&&$.message){const et=(function(ct){const pt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(pt)>=0?pt:X.UNKNOWN})($.status);_(new at(et,$.message))}else _(new at(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new at(X.UNAVAILABLE,"Connection failed."));break;default:mt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{nt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);nt(Ye,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=TE(),p=EE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");nt(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let L=!1,K=!1;const $=new WR({Yo:Z=>{K?nt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(L||(nt(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),L=!0),nt(Ye,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Zo:()=>b.close()}),et=(Z,ct,pt)=>{Z.listen(ct,(ft=>{try{pt(ft)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return et(b,gl.EventType.OPEN,(()=>{K||(nt(Ye,`RPC '${t}' stream ${l} transport opened.`),$.o_())})),et(b,gl.EventType.CLOSE,(()=>{K||(K=!0,nt(Ye,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(b))})),et(b,gl.EventType.ERROR,(Z=>{K||(K=!0,Ka(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),et(b,gl.EventType.MESSAGE,(Z=>{if(!K){const ct=Z.data[0];jt(!!ct,16349);const pt=ct,ft=pt?.error||pt[0]?.error;if(ft){nt(Ye,`RPC '${t}' stream ${l} received error:`,ft);const Ct=ft.status;let Kt=(function(S){const I=be[S];if(I!==void 0)return nT(I)})(Ct),Rt=ft.message;Kt===void 0&&(Kt=X.INTERNAL,Rt="Unknown error status: "+Ct+" with message "+ft.message),K=!0,$.a_(new at(Kt,Rt)),b.close()}else nt(Ye,`RPC '${t}' stream ${l} received:`,ct),$.u_(ct)}})),et(p,vE.STAT_EVENT,(Z=>{Z.stat===Hd.PROXY?nt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Hd.NOPROXY&&nt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Ud(){return typeof document<"u"?document:null}function dh(s){return new rR(s,!0)}class pT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Tv="PersistentStream";class yT{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?($i(i.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Tv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(Tv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ew extends yT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=oR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?Ti(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Wd(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Yd(_)?{documents:cR(c,_)}:{query:hR(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=sT(c,d.resumeToken);const v=Zd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Qc(c,d.snapshotVersion.toTimestamp());const v=Zd(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=dR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Wd(this.serializer),i.removeTarget=t,this.q_(i)}}class nw extends yT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=uR(t.writeResults,t.commitTime),a=Ti(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Wd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>lR(this.serializer,a)))};this.q_(i)}}class iw{}class rw extends iw{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Jd(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(X.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Jd(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class sw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($i(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ks="RemoteStore";class aw{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Hs(this)&&(nt(ks,"Restarting streams for network reachability change."),await(async function(_){const v=vt(_);v.Ea.add(4),await zl(v),v.Ra.set("Unknown"),v.Ea.delete(4),await mh(v)})(this))}))})),this.Ra=new sw(a,l)}}async function mh(s){if(Hs(s))for(const t of s.da)await t(!0)}async function zl(s){for(const t of s.da)await t(!1)}function _T(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Mm(i)?Vm(i):ro(i).O_()&&Om(i,t))}function Nm(s,t){const i=vt(s),a=ro(i);i.Ia.delete(t),a.O_()&&vT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Hs(i)&&i.Ra.set("Unknown"))}function Om(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ro(s).Y_(t)}function vT(s,t){s.Va.Ue(t),ro(s).Z_(t)}function Vm(s){s.Va=new tR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),ro(s).start(),s.Ra.ua()}function Mm(s){return Hs(s)&&!ro(s).x_()&&s.Ia.size>0}function Hs(s){return vt(s).Ea.size===0}function ET(s){s.Va=void 0}async function ow(s){s.Ra.set("Online")}async function lw(s){s.Ia.forEach(((t,i)=>{Om(s,t)}))}async function uw(s,t){ET(s),Mm(s)?(s.Ra.ha(t),Vm(s)):s.Ra.set("Unknown")}async function cw(s,t,i){if(s.Ra.set("Online"),t instanceof rT&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){nt(ks,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Yc(s,a)}else if(t instanceof Oc?s.Va.Ze(t):t instanceof iT?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const a=await gT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(v);A&&c.Ia.set(v,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,v)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),vT(c,_);const b=new Br(A.target,_,v,A.sequenceNumber);Om(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){nt(ks,"Failed to raise snapshot:",a),await Yc(s,a)}}async function Yc(s,t,i){if(!io(t))throw t;s.Ea.add(1),await zl(s),s.Ra.set("Offline"),i||(i=()=>gT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(ks,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await mh(s)}))}function TT(s,t){return t().catch((i=>Yc(s,i,t)))}async function gh(s){const t=vt(s),i=Jr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ym;for(;hw(t);)try{const l=await QR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,fw(t,l)}catch(l){await Yc(t,l)}AT(t)&&ST(t)}function hw(s){return Hs(s)&&s.Ta.length<10}function fw(s,t){s.Ta.push(t);const i=Jr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function AT(s){return Hs(s)&&!Jr(s).x_()&&s.Ta.length>0}function ST(s){Jr(s).start()}async function dw(s){Jr(s).ra()}async function mw(s){const t=Jr(s);for(const i of s.Ta)t.ea(i.mutations)}async function gw(s,t,i){const a=s.Ta.shift(),l=Sm.from(a,t,i);await TT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await gh(s)}async function pw(s,t){t&&Jr(s).X_&&await(async function(a,l){if((function(d){return Jb(d)&&d!==X.ABORTED})(l.code)){const c=a.Ta.shift();Jr(a).B_(),await TT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gh(a)}})(s,t),AT(s)&&ST(s)}async function Av(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),nt(ks,"RemoteStore received new credentials");const a=Hs(i);i.Ea.add(3),await zl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function yw(s,t){const i=vt(s);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await zl(i),i.Ra.set("Unknown"))}function ro(s){return s.ma||(s.ma=(function(i,a,l){const c=vt(i);return c.sa(),new ew(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:ow.bind(null,s),t_:lw.bind(null,s),r_:uw.bind(null,s),H_:cw.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Mm(s)?Vm(s):s.Ra.set("Unknown")):(await s.ma.stop(),ET(s))}))),s.ma}function Jr(s){return s.fa||(s.fa=(function(i,a,l){const c=vt(i);return c.sa(),new nw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dw.bind(null,s),r_:pw.bind(null,s),ta:mw.bind(null,s),na:gw.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await gh(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(ks,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Um{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Um(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(s,t){if($i("AsyncQueue",`${t}: ${s}`),io(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}class Ba{static emptySet(t){return new Ba(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ba)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ba;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Sv{constructor(){this.ga=new oe(ut.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):mt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class $a{constructor(t,i,a,l,c,d,p,_,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new $a(t,i,Ba.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class _w{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class vw{constructor(){this.queries=bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),c=l.queries;l.queries=bv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function bv(){return new qs((s=>HE(s)),lh)}async function Ew(s,t){const i=vt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new _w,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Lm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Pm(i)}async function Tw(s,t){const i=vt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Aw(s,t){const i=vt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Pm(i)}function Sw(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Pm(s){s.Ca.forEach((t=>{t.next()}))}var nm,Rv;(Rv=nm||(nm={})).Ma="default",Rv.Cache="cache";class bw{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new $a(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=$a.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==nm.Cache}}class bT{constructor(t){this.key=t}}class RT{constructor(t){this.key=t}}class Rw{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=GE(t),this.tu=new Ba(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const L=l.get(A),K=uh(this.query,b)?b:null,$=!!L&&this.mutatedKeys.has(L.key),et=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Z=!1;L&&K?L.data.isEqual(K.data)?$!==et&&(a.track({type:3,doc:K}),Z=!0):this.su(L,K)||(a.track({type:2,doc:K}),Z=!0,(_&&this.eu(K,_)>0||v&&this.eu(K,v)<0)&&(p=!0)):!L&&K?(a.track({type:0,doc:K}),Z=!0):L&&!K&&(a.track({type:1,doc:L}),Z=!0,(_||v)&&(p=!0)),Z&&(K?(d=d.add(K),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(K,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt(20277,{Rt:Z})}};return et(K)-et($)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,v=_!==this.Za;return this.Za=_,d.length!==0||v?{snapshot:new $a(this.query,t.tu,c,d,t.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new RT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new bT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return $a.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const km="SyncEngine";class ww{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Iw{constructor(t){this.key=t,this.hu=!1}}class Cw{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new qs((p=>HE(p)),lh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ut.comparator),this.Au=new Map,this.Ru=new wm,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Dw(s,t,i=!0){const a=OT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,t,i,!0),l}async function Nw(s,t){const i=OT(s);await wT(i,t,!0,!1)}async function wT(s,t,i,a){const l=await KR(s.localStore,Ei(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await Ow(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&_T(s.remoteStore,l),p}async function Ow(s,t,i,a,l){s.pu=(b,L,K)=>(async function(et,Z,ct,pt){let ft=Z.view.ru(ct);ft.Cs&&(ft=await yv(et.localStore,Z.query,!1).then((({documents:D})=>Z.view.ru(D,ft))));const Ct=pt&&pt.targetChanges.get(Z.targetId),Kt=pt&&pt.targetMismatches.get(Z.targetId)!=null,Rt=Z.view.applyChanges(ft,et.isPrimaryClient,Ct,Kt);return Iv(et,Z.targetId,Rt.au),Rt.snapshot})(s,b,L,K);const c=await yv(s.localStore,t,!0),d=new Rw(t,c.Qs),p=d.ru(c.documents),_=xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(p,s.isPrimaryClient,_);Iv(s,i,v.au);const A=new ww(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function Vw(s,t,i){const a=vt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!lh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Nm(a.remoteStore,l.targetId),im(a,l.targetId)})).catch(no)):(im(a,l.targetId),await tm(a.localStore,l.targetId,!0))}async function Mw(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Nm(i.remoteStore,a.targetId))}async function Uw(s,t,i){const a=qw(s);try{const l=await(function(d,p){const _=vt(d),v=ie.now(),A=p.reduce(((K,$)=>K.add($.key)),Mt());let b,L;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let $=Wi(),et=Mt();return _.Ns.getEntries(K,A).next((Z=>{$=Z,$.forEach(((ct,pt)=>{pt.isValidDocument()||(et=et.add(ct))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,$))).next((Z=>{b=Z;const ct=[];for(const pt of p){const ft=Qb(pt,b.get(pt.key).overlayedDocument);ft!=null&&ct.push(new js(pt.key,ft,LE(ft.value.mapValue),Xi.exists(!0)))}return _.mutationQueue.addMutationBatch(K,v,ct,p)})).next((Z=>{L=Z;const ct=Z.applyToLocalDocumentSet(b,et);return _.documentOverlayCache.saveOverlays(K,Z.batchId,ct)}))})).then((()=>({batchId:L.batchId,changes:QE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let v=d.Vu[d.currentUser.toKey()];v||(v=new oe(Vt)),v=v.insert(p,_),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await Bl(a,l.changes),await gh(a.remoteStore)}catch(l){const c=Lm(l,"Failed to persist write");i.reject(c)}}async function IT(s,t){const i=vt(s);try{const a=await GR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await Bl(i,a,t)}catch(a){await no(a)}}function wv(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=vt(d);_.onlineState=p;let v=!1;_.queries.forEach(((A,b)=>{for(const L of b.Sa)L.va(p)&&(v=!0)})),v&&Pm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Lw(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(ut.comparator);d=d.insert(c,Ze.newNoDocument(c,yt.min()));const p=Mt().add(c),_=new fh(yt.min(),new Map,new oe(Vt),d,p);await IT(a,_),a.du=a.du.remove(c),a.Au.delete(t),xm(a)}else await tm(a.localStore,t,!1).then((()=>im(a,t,i))).catch(no)}async function Pw(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await HR(i.localStore,t);DT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bl(i,l)}catch(l){await no(l)}}async function kw(s,t,i){const a=vt(s);try{const l=await(function(d,p){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let A;return _.mutationQueue.lookupMutationBatch(v,p).next((b=>(jt(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(v,b)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A))).next((()=>_.localDocuments.getDocuments(v,A)))}))})(a.localStore,t);DT(a,t,i),CT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bl(a,l)}catch(l){await no(l)}}function CT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function DT(s,t,i){const a=vt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function im(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||NT(s,a)}))}function NT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Nm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),xm(s))}function Iv(s,t,i){for(const a of i)a instanceof bT?(s.Ru.addReference(a.key,t),xw(s,a)):a instanceof RT?(nt(km,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||NT(s,a.key)):mt(19791,{wu:a})}function xw(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(nt(km,"New document in limbo: "+i),s.Eu.add(a),xm(s))}function xm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ut(ne.fromString(t)),a=s.fu.next();s.Au.set(a,new Iw(i)),s.du=s.du.insert(i,a),_T(s.remoteStore,new Br(Ei(jE(i.path)),a,"TargetPurposeLimboResolution",rh.ce))}}async function Bl(s,t,i){const a=vt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Cm.As(_.targetId,v);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Y.forEach(v,(L=>Y.forEach(L.Es,(K=>A.persistence.referenceDelegate.addReference(b,L.targetId,K))).next((()=>Y.forEach(L.ds,(K=>A.persistence.referenceDelegate.removeReference(b,L.targetId,K)))))))))}catch(b){if(!io(b))throw b;nt(Dm,"Failed to update sequence numbers: "+b)}for(const b of v){const L=b.targetId;if(!b.fromCache){const K=A.Ms.get(L),$=K.snapshotVersion,et=K.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(L,et)}}})(a.localStore,c))}async function zw(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){nt(km,"User change. New user:",t.toKey());const a=await mT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new at(X.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bl(i,a.Ls)}}function Bw(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function OT(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lw.bind(null,t),t.Pu.H_=Aw.bind(null,t.eventManager),t.Pu.yu=Sw.bind(null,t.eventManager),t}function qw(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Pw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kw.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return jR(this.persistence,new zR,t.initialUser,this.serializer)}Cu(t){return new dT(Im.mi,this.serializer)}Du(t){return new XR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class jw extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof Kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new dT((a=>Kc.mi(a,i)),this.serializer)}}class rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=zw.bind(null,this.syncEngine),await yw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new vw})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=(function(c){return new tw(c)})(t.databaseInfo);return(function(c,d,p,_){return new rw(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new aw(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>wv(this.syncEngine,i,0)),(function(){return Ev.v()?new Ev:new ZR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,v,A){const b=new Cw(l,c,d,p,_,v);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);nt(ks,"RemoteStore shutting down."),a.Ea.add(5),await zl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class Hw{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):$i("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const $r="FirestoreClient";class Gw{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{nt($r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt($r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Lm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ld(s,t){s.asyncQueue.verifyOperationInProgress(),nt($r,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await mT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Cv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Fw(s);nt($r,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Av(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Av(t.remoteStore,l))),s._onlineComponents=t}async function Fw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt($r,"Using user provided OfflineComponentProvider");try{await Ld(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ka("Error using user provided cache. Falling back to memory cache: "+i),await Ld(s,new Xc)}}else nt($r,"Using default OfflineComponentProvider"),await Ld(s,new jw(void 0));return s._offlineComponents}async function VT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt($r,"Using user provided OnlineComponentProvider"),await Cv(s,s._uninitializedComponentsProvider._online)):(nt($r,"Using default OnlineComponentProvider"),await Cv(s,new rm))),s._onlineComponents}function Qw(s){return VT(s).then((t=>t.syncEngine))}async function Kw(s){const t=await VT(s),i=t.eventManager;return i.onListen=Dw.bind(null,t.syncEngine),i.onUnlisten=Vw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Nw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Mw.bind(null,t.syncEngine),i}function Yw(s,t,i={}){const a=new Fr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,v){const A=new Hw({next:L=>{A.Nu(),d.enqueueAndForget((()=>Tw(c,b))),L.fromCache&&_.source==="server"?v.reject(new at(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(L)},error:L=>v.reject(L)}),b=new bw(p,A,{includeMetadataChanges:!0,qa:!0});return Ew(c,b)})(await Kw(s),s.asyncQueue,t,i,a))),a.promise}function MT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Dv=new Map;const UT="firestore.googleapis.com",Nv=!0;class Ov{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UT,this.ssl=Nv}else this.host=t.host,this.ssl=t.ssl??Nv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AR)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ov({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ov(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Y1;switch(a.type){case"firstParty":return new $1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Dv.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Dv.delete(i),a.terminate())})(this),Promise.resolve()}}function Xw(s,t,i,a={}){s=zc(s,ph);const l=Wa(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(lE(`https://${p}`),uE("Firestore",!0)),c.host!==UT&&c.host!==p&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!Us(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Xe.MOCK_USER;else{v=TS(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}s._authCredentials=new X1(new SE(v,A))}}class yh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Fe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}toJSON(){return{type:Fe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Pl(i,Fe._jsonSchema))return new Fe(t,a||null,new ut(ne.fromString(i.referencePath)))}}Fe._jsonSchemaVersion="firestore/documentReference/1.0",Fe._jsonSchema={type:Re("string",Fe._jsonSchemaVersion),referencePath:Re("string")};class Qr extends yh{constructor(t,i,a){super(t,i,jE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new ut(t))}withConverter(t){return new Qr(this.firestore,t,this._path)}}function Vv(s,t,...i){if(s=vn(s),bE("collection","path",t),s instanceof ph){const a=ne.fromString(t,...i);return F_(a),new Qr(s,null,a)}{if(!(s instanceof Fe||s instanceof Qr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return F_(a),new Qr(s.firestore,null,a)}}function Zw(s,t,...i){if(s=vn(s),arguments.length===1&&(t=gm.newId()),bE("doc","path",t),s instanceof ph){const a=ne.fromString(t,...i);return G_(a),new Fe(s,null,new ut(a))}{if(!(s instanceof Fe||s instanceof Qr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return G_(a),new Fe(s.firestore,s instanceof Qr?s.converter:null,new ut(a))}}const Mv="AsyncQueue";class Uv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pT(this,"async_queue_retry"),this._c=()=>{const a=Ud();a&&nt(Mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Ud();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Ud();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!io(t))throw t;nt(Mv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,$i("INTERNAL UNHANDLED ERROR: ",Lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Um.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&mt(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Lv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class zm extends ph{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Uv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uv(t),this._firestoreClient=void 0,await t}}}function Jw(s,t){const i=typeof s=="object"?s:dE(),a=typeof s=="string"?s:qc,l=dm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=vS("firestore");c&&Xw(l,...c)}return l}function LT(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$w(s),s._firestoreClient}function $w(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new gb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,MT(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Gw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Re("string",Ln._jsonSchemaVersion),bytes:Re("string")};class Bm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qm{constructor(t){this._methodName=t}}class Ai{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Re("string",Ai._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Si{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Si(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Re("string",Si._jsonSchemaVersion),vectorValues:Re("object")};const Ww=/^__.*__$/;class tI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new js(t,this.data,this.fieldMask,i,this.fieldTransforms):new kl(t,this.data,i,this.fieldTransforms)}}function PT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt(40011,{Ac:s})}}class jm{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Zc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(PT(this.Ac)&&Ww.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}Cc(t,i,a,l=!1){return new jm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nI(s){const t=s._freezeSettings(),i=dh(s._databaseId);return new eI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function iI(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);BT("Data must be an object, but it was:",d,a);const p=xT(a,d);let _,v;if(c.merge)_=new Yn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const L=rI(t,b,i);if(!d.contains(L))throw new at(X.INVALID_ARGUMENT,`Field '${L}' is specified in your field mask but missing from your input data.`);aI(A,L)||A.push(L)}_=new Yn(A),v=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,v=d.fieldTransforms;return new tI(new Un(p),_,v)}class Hm extends qm{_toFieldTransform(t){return new jb(t.path,new Dl)}isEqual(t){return t instanceof Hm}}function kT(s,t){if(zT(s=vn(s)))return BT("Unsupported field value:",t,s),xT(s,t);if(s instanceof qm)return(function(a,l){if(!PT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=kT(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=vn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return zb(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Qc(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qc(l.serializer,c)}}if(a instanceof Ai)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:sT(l.serializer,a._byteString)};if(a instanceof Fe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Si)return(function(d,p){return{mapValue:{fields:{[ME]:{stringValue:UE},[jc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Am(p.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${pm(a)}`)})(s,t)}function xT(s,t){const i={};return IE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(s,((a,l)=>{const c=kT(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function zT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ai||s instanceof Ln||s instanceof Fe||s instanceof qm||s instanceof Si)}function BT(s,t,i){if(!zT(i)||!RE(i)){const a=pm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function rI(s,t,i){if((t=vn(t))instanceof Bm)return t._internalPath;if(typeof t=="string")return qT(s,t);throw Zc("Field path arguments must be of type string or ",s,!1,void 0,i)}const sI=new RegExp("[~\\*/\\[\\]]");function qT(s,t,i){if(t.search(sI)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Bm(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zc(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new at(X.INVALID_ARGUMENT,p+s+_)}function aI(s,t){return s.some((i=>i.isEqual(t)))}class jT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class oI extends jT{data(){return super.data()}}function HT(s,t){return typeof t=="string"?qT(s,t):t instanceof Bm?t._internalPath:t._delegate._internalPath}function lI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uI{convertValue(t,i="none"){switch(Zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Xr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw mt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Bs(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[jc].arrayValue?.values?.map((a=>me(a.doubleValue)));return new Si(i)}convertGeoPoint(t){return new Ai(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(wl(t));default:return null}}convertTimestamp(t){const i=Yr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);jt(hT(a),9688,{name:t});const l=new Il(a.get(1),a.get(3)),c=new ut(a.popFirst(5));return l.isEqual(i)||$i(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function cI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Rc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qa extends jT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(HT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Re("string",qa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Vc extends qa{data(t={}){return super.data(t)}}class ja{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new Rc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Vc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Rc(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:hI(p.type),doc:_,oldIndex:v,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt(61501,{type:s})}}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Re("string",ja._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class fI extends uI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,i)}}function dI(s){s=zc(s,yh);const t=zc(s.firestore,zm),i=LT(t),a=new fI(t);return lI(s._query),Yw(i,s._query).then((l=>new ja(t,a,s,l)))}function mI(s,t){const i=zc(s.firestore,zm),a=Zw(s),l=cI(s.converter,t);return gI(i,[iI(nI(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Xi.exists(!1))]).then((()=>a))}function gI(s,t){return(function(a,l){const c=new Fr;return a.asyncQueue.enqueueAndForget((async()=>Uw(await Qw(a),l,c))),c.promise})(LT(s),t)}function pI(){return new Hm("serverTimestamp")}(function(t,i=!0){(function(l){eo=l})(to),Qa(new Ls("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new zm(new Z1(a.getProvider("auth-internal")),new W1(d,a.getProvider("app-check-internal")),(function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(v.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Hr(B_,q_,t),Hr(B_,q_,"esm2020")})();var yI="firebase",_I="12.7.0";Hr(yI,_I,"app");function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=GT,FT=new Ul("auth","Firebase",GT());const Jc=new hm("@firebase/auth");function EI(s,...t){Jc.logLevel<=Ot.WARN&&Jc.warn(`Auth (${to}): ${s}`,...t)}function Mc(s,...t){Jc.logLevel<=Ot.ERROR&&Jc.error(`Auth (${to}): ${s}`,...t)}function Zn(s,...t){throw Gm(s,...t)}function bi(s,...t){return Gm(s,...t)}function QT(s,t,i){const a={...vI(),[t]:i};return new Ul("auth","Firebase",a).create(t,{appName:s.name})}function Zi(s){return QT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return FT.create(s,...t)}function dt(s,t,...i){if(!s)throw Gm(t,...i)}function Ki(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Mc(t),new Error(t)}function tr(s,t){s||Ki(t)}function sm(){return typeof self<"u"&&self.location?.href||""}function TI(){return Pv()==="http:"||Pv()==="https:"}function Pv(){return typeof self<"u"&&self.location?.protocol||null}function AI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TI()||IS()||"connection"in navigator)?navigator.onLine:!0}function SI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=bS()||CS()}get(){return AI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Fm(s,t){tr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class KT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const RI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wI=new ql(3e4,6e4);function Wr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ts(s,t,i,a,l={}){return YT(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:_,...c};return wS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(v.credentials="include"),KT.fetch()(await XT(s,s.config.apiHost,i,p),v)})}async function YT(s,t,i){s._canInitEmulator=!1;const a={...bI,...t};try{const l=new CI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,v]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw wc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw wc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw QT(s,A,v);Zn(s,A)}}catch(l){if(l instanceof er)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function jl(s,t,i,a,l={}){const c=await ts(s,t,i,a,l);return"mfaPendingCredential"in c&&Zn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function XT(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Fm(s.config,l):`${s.config.apiScheme}://${l}`;return RI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function II(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(bi(this.auth,"network-request-failed")),wI.get())})}}function wc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=bi(s,t,a);return l.customData._tokenResponse=i,l}function kv(s){return s!==void 0&&s.enterprise!==void 0}class DI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return II(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NI(s,t){return ts(s,"GET","/v2/recaptchaConfig",Wr(s,t))}async function OI(s,t){return ts(s,"POST","/v1/accounts:delete",t)}async function $c(s,t){return ts(s,"POST","/v1/accounts:lookup",t)}function Sl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function VI(s,t=!1){const i=vn(s),a=await i.getIdToken(t),l=Qm(a);dt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Sl(Pd(l.auth_time)),issuedAtTime:Sl(Pd(l.iat)),expirationTime:Sl(Pd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Pd(s){return Number(s)*1e3}function Qm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const l=rE(i);return l?JSON.parse(l):(Mc("Failed to decode base64 JWT payload"),null)}catch(l){return Mc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function xv(s){const t=Qm(s);return dt(t,"internal-error"),dt(typeof t.exp<"u","internal-error"),dt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&MI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function MI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class UI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const t=s.auth,i=await s.getIdToken(),a=await Vl(s,$c(t,{idToken:i}));dt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?ZT(l.providerUserInfo):[],d=PI(s.providerData,c),p=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,v=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function LI(s){const t=vn(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function ZT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kI(s,t){const i=await YT(s,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await XT(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&Wa(s.emulatorConfig.host)&&(_.credentials="include"),KT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xI(s,t){return ts(s,"POST","/v2/accounts:revokeToken",Wr(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){dt(t.idToken,"internal-error"),dt(typeof t.idToken<"u","internal-error"),dt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){dt(t.length!==0,"internal-error");const i=xv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(dt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kI(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(dt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(dt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(dt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Lr(s,t){dt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new UI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Vl(this,this.stsTokenManager.getToken(this.auth,t));return dt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return VI(this,t)}reload(){return LI(this)}_assign(t){this!==t&&(dt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){dt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await Vl(this,OI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:L,isAnonymous:K,providerData:$,stsTokenManager:et}=i;dt(b&&et,t,"internal-error");const Z=Ha.fromJSON(this.name,et);dt(typeof b=="string",t,"internal-error"),Lr(a,t.name),Lr(l,t.name),dt(typeof L=="boolean",t,"internal-error"),dt(typeof K=="boolean",t,"internal-error"),Lr(c,t.name),Lr(d,t.name),Lr(p,t.name),Lr(_,t.name),Lr(v,t.name),Lr(A,t.name);const ct=new Xn({uid:b,auth:t,email:l,emailVerified:L,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:v,lastLoginAt:A});return $&&Array.isArray($)&&(ct.providerData=$.map(pt=>({...pt}))),_&&(ct._redirectEventId=_),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];dt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?ZT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const _=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const zv=new Map;function Yi(s){tr(s instanceof Function,"Expected a class definition");let t=zv.get(s);return t?(tr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,zv.set(s,t),t)}class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}JT.type="NONE";const Bv=JT;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Yi(Bv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Yi(Bv);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const A=await v._get(d);if(A){let b;if(typeof A=="string"){const L=await $c(t,{idToken:A}).catch(()=>{});if(!L)break;b=await Xn._fromGetAccountInfoResponse(t,L,A)}else b=Xn._fromJSON(t,A);v!==c&&(p=b),c=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ga(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ga(c,t,a))}}function qv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(e0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($T(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i0(t))return"Blackberry";if(r0(t))return"Webos";if(WT(t))return"Safari";if((t.includes("chrome/")||t0(t))&&!t.includes("edge/"))return"Chrome";if(n0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function $T(s=Je()){return/firefox\//i.test(s)}function WT(s=Je()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t0(s=Je()){return/crios\//i.test(s)}function e0(s=Je()){return/iemobile/i.test(s)}function n0(s=Je()){return/android/i.test(s)}function i0(s=Je()){return/blackberry/i.test(s)}function r0(s=Je()){return/webos/i.test(s)}function Km(s=Je()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function zI(s=Je()){return Km(s)&&!!window.navigator?.standalone}function BI(){return DS()&&document.documentMode===10}function s0(s=Je()){return Km(s)||n0(s)||r0(s)||i0(s)||/windows phone/i.test(s)||e0(s)}function a0(s,t=[]){let i;switch(s){case"Browser":i=qv(Je());break;case"Worker":i=`${qv(Je())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${to}/${a}`}class qI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function jI(s,t={}){return ts(s,"GET","/v2/passwordPolicy",Wr(s,t))}const HI=6;class GI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??HI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class FI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jv(this),this.idTokenSubscription=new jv(this),this.beforeStateQueue=new qI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Yi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Mn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return dt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=SI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Mn(this.app))return Promise.reject(Zi(this));const i=t?vn(t):null;return i&&dt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&dt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Mn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await jI(this),i=new GI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await xI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Yi(t)||this._popupRedirectResolver;dt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Yi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(dt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return dt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=a0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&EI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gs(s){return vn(s)}class jv{constructor(t){this.auth=t,this.observer=null,this.addObserver=kS(i=>this.observer=i)}get next(){return dt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QI(s){_h=s}function o0(s){return _h.loadJS(s)}function KI(){return _h.recaptchaEnterpriseScript}function YI(){return _h.gapiScript}function XI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class ZI{constructor(){this.enterprise=new JI}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class JI{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const $I="recaptcha-enterprise",l0="NO_RECAPTCHA";class WI{constructor(t){this.type=$I,this.auth=Gs(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{NI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const v=new DI(_);return c.tenantId==null?c._agentRecaptchaConfig=v:c._tenantRecaptchaConfigs[c.tenantId]=v,d(v.siteKey)}}).catch(_=>{p(_)})})}function l(c,d,p){const _=window.grecaptcha;kv(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(v=>{d(v)}).catch(()=>{d(l0)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!i&&kv(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=KI();_.length!==0&&(_+=p),o0(_).then(()=>{l(p,c,d)}).catch(v=>{d(v)})}}).catch(p=>{d(p)})})}}async function Hv(s,t,i,a=!1,l=!1){const c=new WI(s);let d;if(l)d=l0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const _=p.phoneEnrollmentInfo.phoneNumber,v=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:v,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const _=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function om(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Hv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function tC(s,t){const i=dm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Us(c,t??{}))return l;Zn(l,"already-initialized")}return i.initialize({options:t})}function eC(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Yi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function nC(s,t,i){const a=Gs(s);dt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=u0(t),{host:d,port:p}=iC(t),_=p===null?"":`:${p}`,v={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){dt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),dt(Us(v,a.config.emulator)&&Us(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Wa(d)?(lE(`${c}//${d}${_}`),uE("Auth",!0)):rC()}function u0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function iC(s){const t=u0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:Gv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Gv(d)}}}function Gv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function rC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Ym{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ki("not implemented")}_getIdTokenResponse(t){return Ki("not implemented")}_linkToIdToken(t,i){return Ki("not implemented")}_getReauthenticationResolver(t){return Ki("not implemented")}}async function sC(s,t){return ts(s,"POST","/v1/accounts:signUp",t)}async function aC(s,t){return jl(s,"POST","/v1/accounts:signInWithPassword",Wr(s,t))}async function oC(s,t){return jl(s,"POST","/v1/accounts:signInWithEmailLink",Wr(s,t))}async function lC(s,t){return jl(s,"POST","/v1/accounts:signInWithEmailLink",Wr(s,t))}class Ml extends Ym{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Ml(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Ml(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,i,"signInWithPassword",aC);case"emailLink":return oC(t,{email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return om(t,a,"signUpPassword",sC);case"emailLink":return lC(t,{idToken:i,email:this._email,oobCode:this._password});default:Zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Fa(s,t){return jl(s,"POST","/v1/accounts:signInWithIdp",Wr(s,t))}const uC="http://localhost";class xs extends Ym{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new xs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Zn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new xs(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:uC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}function cC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hC(s){const t=dl(ml(s)).link,i=t?dl(ml(t)).deep_link_id:null,a=dl(ml(s)).deep_link_id;return(a?dl(ml(a)).link:null)||a||i||t||s}class Xm{constructor(t){const i=dl(ml(t)),a=i.apiKey??null,l=i.oobCode??null,c=cC(i.mode??null);dt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=hC(t);try{return new Xm(i)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(t,i){return Ml._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Xm.parseLink(i);return dt(a,"argument-error"),Ml._fromEmailAndCode(t,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class c0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Hl extends c0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Pr extends Hl{constructor(){super("facebook.com")}static credential(t){return xs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Pr.credential(t.oauthAccessToken)}catch{return null}}}Pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pr.PROVIDER_ID="facebook.com";class kr extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return xs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return kr.credential(i,a)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";class xr extends Hl{constructor(){super("github.com")}static credential(t){return xs._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return xr.credential(t.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";class zr extends Hl{constructor(){super("twitter.com")}static credential(t,i){return xs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return zr.credential(i,a)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";async function fC(s,t){return jl(s,"POST","/v1/accounts:signUp",Wr(s,t))}class zs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=Fv(a);return new zs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Fv(a);return new zs({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Fv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new th(t,i,a,l)}}function h0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,t,a):c})}async function dC(s,t,i=!1){const a=await Vl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return zs._forOperation(s,"link",a)}async function mC(s,t,i=!1){const{auth:a}=s;if(Mn(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await Vl(s,h0(a,l,t,s),i);dt(c.idToken,a,"internal-error");const d=Qm(c.idToken);dt(d,a,"internal-error");const{sub:p}=d;return dt(s.uid===p,a,"user-mismatch"),zs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Zn(a,"user-mismatch"),c}}async function f0(s,t,i=!1){if(Mn(s.app))return Promise.reject(Zi(s));const a="signIn",l=await h0(s,a,t),c=await zs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function gC(s,t){return f0(Gs(s),t)}async function d0(s){const t=Gs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function pC(s,t,i){if(Mn(s.app))return Promise.reject(Zi(s));const a=Gs(s),d=await om(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fC).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&d0(s),_}),p=await zs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function yC(s,t,i){return Mn(s.app)?Promise.reject(Zi(s)):gC(vn(s),so.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&d0(s),a})}function _C(s,t,i,a){return vn(s).onIdTokenChanged(t,i,a)}function vC(s,t,i){return vn(s).beforeAuthStateChanged(t,i)}function EC(s,t,i,a){return vn(s).onAuthStateChanged(t,i,a)}const eh="__sak";class m0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TC=1e3,AC=10;class g0 extends m0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);BI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},TC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}g0.type="LOCAL";const SC=g0;class p0 extends m0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}p0.type="SESSION";const y0=p0;function bC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async v=>v(i.origin,c)),_=await bC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Zm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class RC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const v=Zm("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const L=b;if(L.data.eventId===v)switch(L.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(L.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function wC(s){Ri().location.href=s}function _0(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function IC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CC(){return navigator?.serviceWorker?.controller||null}function DC(){return _0()?self:null}const v0="firebaseLocalStorageDb",NC=1,nh="firebaseLocalStorage",E0="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Eh(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function OC(){const s=indexedDB.deleteDatabase(v0);return new Gl(s).toPromise()}function lm(){const s=indexedDB.open(v0,NC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:E0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await OC(),t(await lm()))})})}async function Qv(s,t,i){const a=Eh(s,!0).put({[E0]:t,value:i});return new Gl(a).toPromise()}async function VC(s,t){const i=Eh(s,!1).get(t),a=await new Gl(i).toPromise();return a===void 0?null:a.value}function Kv(s,t){const i=Eh(s,!0).delete(t);return new Gl(i).toPromise()}const MC=800,UC=3;class T0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>UC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(DC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await lm();return await Qv(t,eh,"1"),await Kv(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Qv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>VC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Kv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Eh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}T0.type="LOCAL";const LC=T0;new ql(3e4,6e4);function PC(s,t){return t?Yi(t):(dt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Jm extends Ym{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kC(s){return f0(s.auth,new Jm(s),s.bypassAuthState)}function xC(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),mC(i,new Jm(s),s.bypassAuthState)}async function zC(s){const{auth:t,user:i}=s;return dt(i,t,"internal-error"),dC(i,new Jm(s),s.bypassAuthState)}class A0{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return zC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Zn(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BC=new ql(2e3,1e4);class za extends A0{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return dt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BC.get())};t()}}za.currentPopupAction=null;const qC="pendingRedirect",Lc=new Map;class jC extends A0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await HC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HC(s,t){const i=QC(t),a=FC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function GC(s,t){Lc.set(s._key(),t)}function FC(s){return Yi(s._redirectPersistence)}function QC(s){return Uc(qC,s.config.apiKey,s.name)}async function KC(s,t,i=!1){if(Mn(s.app))return Promise.reject(Zi(s));const a=Gs(s),l=PC(a,t),d=await new jC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const YC=600*1e3;class XC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ZC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!S0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(t))}saveEventToCache(t){this.cachedEventUids.add(Yv(t)),this.lastProcessedEventTime=Date.now()}}function Yv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function S0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function ZC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(s);default:return!1}}async function JC(s,t={}){return ts(s,"GET","/v1/projects",t)}const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function t2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await JC(s);for(const i of t)try{if(e2(i))return}catch{}Zn(s,"unauthorized-domain")}function e2(s){const t=sm(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WC.test(i))return!1;if($C.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const n2=new ql(3e4,6e4);function Xv(){const s=Ri().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function i2(s){return new Promise((t,i)=>{function a(){Xv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xv(),i(bi(s,"network-request-failed"))},timeout:n2.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)a();else{const l=XI("iframefcb");return Ri()[l]=()=>{gapi.load?a():i(bi(s,"network-request-failed"))},o0(`${YI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function r2(s){return Pc=Pc||i2(s),Pc}const s2=new ql(5e3,15e3),a2="__/auth/iframe",o2="emulator/auth/iframe",l2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c2(s){const t=s.config;dt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Fm(t,o2):`https://${s.config.authDomain}/${a2}`,a={apiKey:t.apiKey,appName:s.name,v:to},l=u2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function h2(s){const t=await r2(s),i=Ri().gapi;return dt(i,s,"internal-error"),t.open({where:document.body,url:c2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=bi(s,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},s2.get());function _(){Ri().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const f2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d2=500,m2=600,g2="_blank",p2="http://localhost";class Zv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y2(s,t,i,a=d2,l=m2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...f2,width:a.toString(),height:l.toString(),top:c,left:d},v=Je().toLowerCase();i&&(p=t0(v)?g2:i),$T(v)&&(t=t||p2,_.scrollbars="yes");const A=Object.entries(_).reduce((L,[K,$])=>`${L}${K}=${$},`,"");if(zI(v)&&p!=="_self")return _2(t||"",p),new Zv(null);const b=window.open(t||"",p,A);dt(b,s,"popup-blocked");try{b.focus()}catch{}return new Zv(b)}function _2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const v2="__/auth/handler",E2="emulator/auth/handler",T2=encodeURIComponent("fac");async function Jv(s,t,i,a,l,c){dt(s.config.authDomain,s,"auth-domain-config-required"),dt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:to,eventId:l};if(t instanceof c0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",PS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Hl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),v=_?`#${T2}=${encodeURIComponent(_)}`:"";return`${A2(s)}?${Ll(p).slice(1)}${v}`}function A2({config:s}){return s.emulator?Fm(s,E2):`https://${s.authDomain}/${v2}`}const kd="webStorageSupport";class S2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=KC,this._overrideRedirectResult=GC}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Jv(t,i,a,sm(),l);return y2(t,c,Zm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await Jv(t,i,a,sm(),l);return wC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await h2(t),a=new XC(t);return i.register("authEvent",l=>(dt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(kd,{type:kd},l=>{const c=l?.[0]?.[kd];c!==void 0&&i(!!c),Zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=t2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return s0()||WT()||Km()}}const b2=S2;var $v="@firebase/auth",Wv="1.12.0";class R2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){dt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I2(s){Qa(new Ls("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;dt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a0(s)},v=new FI(a,l,c,_);return eC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Qa(new Ls("auth-internal",t=>{const i=Gs(t.getProvider("auth").getImmediate());return(a=>new R2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr($v,Wv,w2(s)),Hr($v,Wv,"esm2020")}const C2=300,D2=oE("authIdTokenMaxAge")||C2;let tE=null;const N2=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>D2)return;const l=i?.token;tE!==l&&(tE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function O2(s=dE()){const t=dm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=tC(s,{popupRedirectResolver:b2,persistence:[LC,SC,y0]}),a=oE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=N2(c.toString());vC(i,d,()=>d(i.currentUser)),_C(i,p=>d(p))}}const l=sE("auth");return l&&nC(i,`http://${l}`),i}function V2(){return document.getElementsByTagName("head")?.[0]??document}QI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",V2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I2("Browser");const M2={apiKey:"AIzaSyDaTkymcp7S0arkdjLIZs9FUc1h2m3ukwQ",authDomain:"pet-adoption-88716.firebaseapp.com",projectId:"pet-adoption-88716",storageBucket:"pet-adoption-88716.firebasestorage.app",messagingSenderId:"968463809680",appId:"1:968463809680:web:d61712afabc620cf0fec15"},b0=fE(M2),eE=Jw(b0),um=O2(b0);function U2(){const[s,t]=Le.useState(""),[i,a]=Le.useState(""),[l,c]=Le.useState(!0),d=async p=>{p.preventDefault();try{l?await yC(um,s,i):await pC(um,s,i)}catch(_){alert(_.message)}};return bt.jsx("div",{children:bt.jsxs("form",{onSubmit:d,children:[bt.jsx("h3",{children:l?"Login":"Sign Up"}),bt.jsx("input",{placeholder:"Email",value:s,onChange:p=>t(p.target.value)}),bt.jsx("input",{type:"password",placeholder:"Password",value:i,onChange:p=>a(p.target.value)}),bt.jsx("button",{type:"submit",children:l?"Login":"Create Account"}),bt.jsxs("button",{type:"button",onClick:()=>c(!l),children:["Switch to ",l?"Sign Up":"Login"]})]})})}function L2(){const[s,t]=Le.useState(!1),[i,a]=Le.useState(""),[l,c]=Le.useState(""),[d,p]=Le.useState(0),[_,v]=Le.useState(""),[A,b]=Le.useState(!1),[L,K]=Le.useState([]),[$,et]=Le.useState(""),[Z,ct]=Le.useState(!0),[pt,ft]=Le.useState(0),[Ct,Kt]=Le.useState(null),[Rt,D]=Le.useState(null),S=async()=>(await(await fetch("https://dog.ceo/api/breeds/image/random")).json()).message,I=async()=>{try{const C=Vv(eE,"petapp"),R=(await dI(C)).docs.map($t=>({id:$t.id,...$t.data()}));K(R)}catch(C){console.error("Error fetching pets:",C),et(C.message)}finally{ct(!1)}};Le.useEffect(()=>{I()},[]),Le.useEffect(()=>{const C=EC(um,M=>{D(M)});return()=>C()},[]);const V=async C=>{if(C.preventDefault(),!(!i.trim()||!l.trim()||d<=0||!_.trim())){b(!0);try{let M="https://images.unsplash.com/photo-1450778869180-41d0601e046e";l.toLowerCase()==="dog"&&(M=await S());const R={name:i.trim(),type:l.trim(),age:Number(d),description:_.trim(),image:M,adopted:!1,createdAt:pI()};await mI(Vv(eE,"petapp"),R),a(""),c(""),p(0),v(""),t(!1),I()}catch(M){console.error("Error adding pet:",M)}finally{b(!1)}}};return Z?bt.jsx("p",{style:{padding:20},children:"Loading..."}):$?bt.jsxs("div",{style:{padding:20},children:[bt.jsx("h1",{children:"Error"}),bt.jsx("p",{style:{color:"red"},children:$})]}):bt.jsxs("div",{className:"container",children:[Rt?bt.jsxs("p",{children:["Welcome, ",Rt.email]}):bt.jsx(U2,{}),bt.jsx("h1",{children:"Adopt a Pet "}),bt.jsxs("h2",{children:["Total Pets Adopted: ",pt]}),bt.jsx("ul",{children:L.map(C=>bt.jsxs("li",{children:[C.name," the ",C.type,bt.jsx("button",{className:"bio",onClick:()=>Kt(C),children:"View Bio"}),bt.jsx("button",{className:"adopt",onClick:()=>ft(pt+1),children:"Adopt"})]},C.id))}),Ct&&bt.jsxs("div",{className:"pet-card",children:[bt.jsx("img",{src:Ct.image,alt:Ct.name,className:"pet-image"}),bt.jsx("h3",{children:Ct.name}),bt.jsxs("p",{children:[bt.jsx("strong",{children:"Age:"})," ",Ct.age===1?"1 year":`${Ct.age} years`]}),bt.jsxs("p",{children:[bt.jsx("strong",{children:"Status:"})," ",Ct.adopted?"Adopted ":"Available "]}),bt.jsx("button",{className:"close",onClick:()=>Kt(null),children:"Close"})]}),Rt&&bt.jsx("button",{className:"new-pets",onClick:()=>t(!0),children:"Pet for Adoption"}),s&&bt.jsxs("form",{onSubmit:V,children:[bt.jsx("input",{placeholder:"Pet Name",value:i,onChange:C=>a(C.target.value)}),bt.jsx("input",{placeholder:"Pet Type",value:l,onChange:C=>c(C.target.value)}),bt.jsx("input",{type:"number",placeholder:"Pet Age",value:d,onChange:C=>p(Number(C.target.value))}),bt.jsx("input",{placeholder:"Describe your pet...",value:_,onChange:C=>v(C.target.value)}),bt.jsx("button",{type:"submit",disabled:A,children:A?"Saving...":"Add Pet"}),bt.jsx("button",{type:"button",onClick:()=>t(!1),children:"Cancel"})]})]})}cS.createRoot(document.getElementById("root")).render(bt.jsx(Le.StrictMode,{children:bt.jsx(L2,{})}));
